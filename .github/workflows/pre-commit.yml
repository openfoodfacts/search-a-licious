name: Run checks

on:
  pull_request:
    branches: [ main ]

jobs:
  checks:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: install python
      uses: actions/setup-python@v5
      with:
        python-version: 3.11
    - name: build docker containers
      run: make build
    - name: Enforce pre-commit hook server side
      uses: pre-commit/action@v3.0.1
    - name: run tests
      run: make test
