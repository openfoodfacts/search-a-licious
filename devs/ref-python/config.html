<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Configuration &#8212; Search-a-licious  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <link rel="stylesheet" type="text/css" href="_static/autodoc_pydantic.css" />
    <script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Command Line Interface" href="cli.html" />
    <link rel="prev" title="API" href="api.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="configuration">
<h1>Configuration<a class="headerlink" href="#configuration" title="Link to this heading">¶</a></h1>
<section id="module-app.config">
<span id="config-module"></span><h2>Config Module<a class="headerlink" href="#module-app.config" title="Link to this heading">¶</a></h2>
<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.BaseESIndexConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">BaseESIndexConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.BaseESIndexConfig" title="Link to this definition">¶</a></dt>
<dd><p>Base class for configuring ElasticSearch indexes</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;BaseESIndexConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Base class for configuring ElasticSearch indexes&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;name&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.BaseESIndexConfig.name" title="app.config.BaseESIndexConfig.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.BaseESIndexConfig.number_of_replicas" title="app.config.BaseESIndexConfig.number_of_replicas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">number_of_replicas</span> <span class="pre">(int)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.BaseESIndexConfig.number_of_shards" title="app.config.BaseESIndexConfig.number_of_shards"><code class="xref py py-obj docutils literal notranslate"><span class="pre">number_of_shards</span> <span class="pre">(int)</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.BaseESIndexConfig.name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">index</span> <span class="pre">alias</span> <span class="pre">to</span> <span class="pre">use.\n\nSearch-a-licious</span> <span class="pre">will</span> <span class="pre">create</span> <span class="pre">an</span> <span class="pre">index</span> <span class="pre">using</span> <span class="pre">this</span> <span class="pre">name</span> <span class="pre">and</span> <span class="pre">an</span> <span class="pre">import</span> <span class="pre">date,\nbut</span> <span class="pre">alias</span> <span class="pre">will</span> <span class="pre">always</span> <span class="pre">point</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">latest</span> <span class="pre">index.\n\nThe</span> <span class="pre">alias</span> <span class="pre">must</span> <span class="pre">not</span> <span class="pre">already</span> <span class="pre">exists</span> <span class="pre">in</span> <span class="pre">your</span> <span class="pre">ElasticSearch</span> <span class="pre">instance.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.BaseESIndexConfig.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the index alias to use.</p>
<p>Search-a-licious will create an index using this name and an import date,
but alias will always point to the latest index.</p>
<p>The alias must not already exists in your ElasticSearch instance.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.BaseESIndexConfig.number_of_replicas">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_replicas</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Number</span> <span class="pre">of</span> <span class="pre">replicas</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">index.\n\nMore</span> <span class="pre">replica</span> <span class="pre">means</span> <span class="pre">more</span> <span class="pre">resiliency</span> <span class="pre">but</span> <span class="pre">also</span> <span class="pre">more</span> <span class="pre">disk</span> <span class="pre">space</span> <span class="pre">and</span> <span class="pre">memory.\n\n(see</span> <span class="pre">[index</span> <span class="pre">settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.BaseESIndexConfig.number_of_replicas" title="Link to this definition">¶</a></dt>
<dd><p>Number of replicas to use for the index.</p>
<p>More replica means more resiliency but also more disk space and memory.</p>
<p>(see [index settings](<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings">https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings</a>))</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.BaseESIndexConfig.number_of_shards">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">number_of_shards</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Number</span> <span class="pre">of</span> <span class="pre">shards</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">index.\n\nShards</span> <span class="pre">are</span> <span class="pre">useful</span> <span class="pre">to</span> <span class="pre">distribute</span> <span class="pre">the</span> <span class="pre">load</span> <span class="pre">on</span> <span class="pre">your</span> <span class="pre">cluster.\n(see</span> <span class="pre">[index</span> <span class="pre">settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.BaseESIndexConfig.number_of_shards" title="Link to this definition">¶</a></dt>
<dd><p>Number of shards to use for the index.</p>
<p>Shards are useful to distribute the load on your cluster.
(see [index settings](<a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings">https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings</a>))</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.Config">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Config" title="Link to this definition">¶</a></dt>
<dd><p>Search-a-licious server configuration.</p>
<p>The configuration is loaded from a YAML file,
that must satisfy this schema.</p>
<p>Validations will be performed while we load it.</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Config&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Search-a-licious server configuration.\n\nThe configuration is loaded from a YAML file,\nthat must satisfy this schema.\n\nValidations will be performed while we load it.&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;indices&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/IndexConfig&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;configuration of indices.\n\n\nA Search-a-licious instance only have one configuration file,\nbut is capable of serving multiple datasets\n\nIt provides a section for each index you want to create (corresponding to a dataset).\n\nThe key is the ID of the index that can be referenced at query time.\nOne index corresponds to a specific set of documents and can be queried independently.\n\nIf you have multiple indexes, one of those index must be designed as the default one,\nsee `default_index`.\n&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Indices&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;default_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;the default index to use when no index is specified in the query&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Default Index&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;$defs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;ESIndexConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration for the main index containing the data.\n\nIt&#39;s used to create the index in ElasticSearch, and configure its mappings\n(along with the *fields* config)&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;id_field_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the field to use for `_id`.\nit is mandatory to provide one.\n\nIf your dataset does not have an identifier field,\nyou should use a document preprocessor to compute one (see `preprocessor`).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Id Field Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;last_modified_field_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the field containing the date of last modification,\nin your indexed objects.\n\nThis is used for incremental updates using Redis queues.\n\nThe field value must be an int/float representing the timestamp.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Last Modified Field Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;id_field_name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;last_modified_field_name&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ESIndexConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;FieldConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name of the field (must be unique&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/FieldType&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Type of the field\n\nSupported field types in Search-a-Licious are:\n\n    * keyword: string values that won&#39;t be interpreted (tokenized).\n      Good for things like tags, serial, property values, etc.\n    * date: Date fields\n    * double, float, half_float, scaled_float:\n      different ways of storing floats with different capacity\n    * short, integer, long, unsigned_long :\n      integers (with different capacity:  8 / 16 / 32 bits)\n    * bool: boolean (true / false) values\n    * text: a text which is tokenized to enable full text search\n    * text_lang: like text, but with different values in different languages.\n      Tokenization will use analyzers specific to each languages.\n    * taxonomy: a field akin to keyword but\n      with support for matching using taxonomy synonyms and translations\n      (and in fact also a text mapping possibility)\n    * disabled: a field that is not stored nor searchable\n      (see [Elasticsearch help])\n    * object: this field contains a dict with sub-fields.\n    \n\n[Elasticsearch help]: https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;if required=True, the field is required in the input data\n\nAn entry that does not contains a value for this field will be rejected.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Required&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;input_field&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name of the input field to use when importing data\n\nBy default, Search-a-licious use the same name as the field name.\n\nThis is useful to index the same field using different types or configurations.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Input Field&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;split&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;do we split the input field with `split_separator` ?\n\nThis is useful if you have some text fields that contains list of values,\n(for example a comma separated list of values, like apple,banana,carrot).\n\nYou must set split_separator to the character that separates the values in the dataset.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Split&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;full_text_search&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wether this field in included on default full text search.\n\nIf `false`, the field is only used during search\nwhen filters involving this field are provided\n(as opposed to full text search expressions without any explicit field).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Full Text Search&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;bucket_agg&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;do we add an bucket aggregation to the elasticsearch query for this field.\n\nIt is used to return a &#39;faceted-view&#39; with the number of results for each facet value,\nor to generate bar charts.\n\nOnly valid for keyword, taxonomy or numeric field types.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bucket Agg&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;taxonomy_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;the name of the taxonomy associated with this field.\n\nIt must only be provided for taxonomy field type.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Taxonomy Name&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;type&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FieldConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;FieldType&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Supported field types in Search-a-Licious are:\n\n    * keyword: string values that won&#39;t be interpreted (tokenized).\n      Good for things like tags, serial, property values, etc.\n    * date: Date fields\n    * double, float, half_float, scaled_float:\n      different ways of storing floats with different capacity\n    * short, integer, long, unsigned_long :\n      integers (with different capacity:  8 / 16 / 32 bits)\n    * bool: boolean (true / false) values\n    * text: a text which is tokenized to enable full text search\n    * text_lang: like text, but with different values in different languages.\n      Tokenization will use analyzers specific to each languages.\n    * taxonomy: a field akin to keyword but\n      with support for matching using taxonomy synonyms and translations\n      (and in fact also a text mapping possibility)\n    * disabled: a field that is not stored nor searchable\n      (see [Elasticsearch help])\n    * object: this field contains a dict with sub-fields.\n    \n\n[Elasticsearch help]: https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;keyword&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;half_float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;scaled_float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;short&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;long&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;unsigned_long&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;bool&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;text_lang&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;taxonomy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;object&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FieldType&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;IndexConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This object gives configuration for one index.\n\nOne index usually correspond to one dataset.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/ESIndexConfig&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration for the main index containing the data.\n\n    It&#39;s used to create the index in ElasticSearch, and configure its mappings\n    (along with the *fields* config)\n    &quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/FieldConfig&quot;</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration of all fields we need to store in the index.\n\nKeys are field names,\nvalues contain the field configuration.\n\nThis is a very important part of the configuration.\n\nMost of the ElasticSearch mapping will depends on it.\nElasticSearch will also use this configuration\nto provide intended behaviour.\n\n(see also [Explain Configuration](./explain_configuration.md#fields))\n\nIf you change those settings you will have to re-index all the data.\n(But you can do so in the background).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Fields&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;split_separator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;separator to use when splitting values, for fields that have split=True&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Split Separator&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;lang_separator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;for `text_lang` FieldType, the separator between the name of the field and the language code, ex: product_name_it if lang_separator=\&quot;_\&quot;&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Lang Separator&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;primary_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#aaa&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Used for vega charts. Use CSS color code.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Primary Color&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;accent_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#222&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Used for vega. Should be CSS color code.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Accent Color&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;taxonomy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomyConfig&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration of taxonomies,\n    that is collections of entries with synonyms in multiple languages.\n\n    See [Explain taxonomies](../explain-taxonomies)\n\n    Field may be linked to taxonomies.\n\n    It enables enriching search with synonyms,\n    as well as providing suggestions,\n    or informative facets.\n\n    Note: if you define taxonomies, you must import them using\n    [import-taxonomies command](../ref-python/cli.html#python3-m-app-import-taxonomies)\n    &quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;supported_langs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A list of all supported languages, it is used to build index mapping&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">[</span>
<span class="w">                     </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;fr&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="s2">&quot;it&quot;</span>
<span class="w">                  </span><span class="p">]</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Supported Langs&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;document_fetcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the document fetcher,\ni.e. the class responsible from fetching the document.\nusing the document ID present in the Redis Stream.\n\nIt should inherit `app._import.BaseDocumentFetcher`\nand specialize the `fetch_document` method.\n\nTo keep things sleek,\nyou generally have few item fields in the event stream payload.\nThis class will fetch the full document using your application API.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;app.openfoodfacts.DocumentFetcher&quot;</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Document Fetcher&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;preprocessor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the preprocessor\nto use before data import.\n\nThis class must inherit `app.indexing.BaseDocumentPreprocessor`\nand specialize the `preprocess` method.\n\nThis is used to adapt the data schema\nor to add search-a-licious specific fields\nfor example.&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">&quot;app.openfoodfacts.DocumentPreprocessor&quot;</span>
<span class="w">                     </span><span class="p">],</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Preprocessor&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;result_processor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the elasticsearch result processor\n                    to use after search query to Elasticsearch.\n\n)                    This class must inherit `app.postprocessing.BaseResultProcessor`\n                    and specialize the `process_after`\n\n                    This is can be used to add custom fields computed from index content.\n                    &quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">&quot;app.openfoodfacts.ResultProcessor&quot;</span>
<span class="w">                     </span><span class="p">],</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Result Processor&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/ScriptConfig&quot;</span>
<span class="w">                     </span><span class="p">},</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;You can add scripts that can be used for sorting results.\n\nEach key is a script name, with it&#39;s configuration.&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Scripts&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;match_phrase_boost&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;How much we boost exact matches on consecutive words\n\nThat is, if you search \&quot;Dark Chocolate\&quot;,\nit will boost entries that have the \&quot;Dark Chocolate\&quot; phrase (in the same field).\n\nIt only applies to free text search.\n\nThis only makes sense when using\n\&quot;boost_phrase\&quot; request parameters and \&quot;best match\&quot; order.\n\nNote: this field accept float of string,\nbecause using float might generate rounding problems.\nThe string must represent a float.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Match Phrase Boost&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;match_phrase_boost_proximity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;How much we allow proximity for `match_phrase_boost`.\n\nIf unspecified we will just match word to word.\nOtherwise it will allow some gap between words matching\n\nThis only makes sense when using\n\&quot;boost_phrase\&quot; request parameters and \&quot;best match\&quot; order.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Match Phrase Boost Proximity&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;document_denylist&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;list of documents IDs to ignore.\n\nUse this to skip some documents at indexing time.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Document Denylist&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;uniqueItems&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;redis_stream_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the Redis stream to read from when listening to document updates.\n\nIf not provided, document updates won&#39;t be listened to for this index.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Redis Stream Name&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;index&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;fields&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;taxonomy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;supported_langs&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;document_fetcher&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IndexConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;ScriptConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Scripts can be used to sort results of a search.\n\nThis use ElasticSearch internal capabilities&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;lang&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/ScriptType&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;expression&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The script language, as supported by Elasticsearch&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The source of the script&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Source&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Params for the scripts. We need this to retrieve and validate parameters&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Params&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;static_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Additional params for the scripts that can&#39;t be supplied by the API (constants)&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Static Params&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;params&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;static_params&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ScriptConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;ScriptType&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;expression&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;painless&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ScriptType&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;TaxonomyConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration of taxonomies,\nthat is collections of entries with synonyms in multiple languages.\n\nSee [Explain taxonomies](../explain-taxonomies)\n\nField may be linked to taxonomies.\n\nIt enables enriching search with synonyms,\nas well as providing suggestions,\nor informative facets.\n\nNote: if you define taxonomies, you must import them using\n[import-taxonomies command](../ref-python/cli.html#python3-m-app-import-taxonomies)&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;sources&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configurations of taxonomies that this project will use.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomySourceConfig&quot;</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sources&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomyIndexConfig&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration of\n    the ElasticSearch index storing the taxonomies.\n\n    All taxonomies are stored within the same index.\n\n    It enables functions like auto-completion, or field suggestions\n    as well as enrichment of requests with synonyms.\n    &quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;preprocessor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the preprocessor\nto use before taxonomy entry import.\n\nThis class must inherit `app.indexing.BaseTaxonomyPreprocessor`\nand specialize the `preprocess` method.\n\nThis is used to adapt the taxonomy schema\nor to add specific fields for example.&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">&quot;app.openfoodfacts.TaxonomyPreprocessor&quot;</span>
<span class="w">                     </span><span class="p">],</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Preprocessor&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;sources&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;index&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomyConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;TaxonomyIndexConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration of\nthe ElasticSearch index storing the taxonomies.\n\nAll taxonomies are stored within the same index.\n\nIt enables functions like auto-completion, or field suggestions\nas well as enrichment of requests with synonyms.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomyIndexConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;TaxonomySourceConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration on how to fetch a particular taxonomy.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the taxonomy\n\nThis is the name you will use in the configuration (and the API)\nto reference this taxonomy&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2083</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;URL of the taxonomy.\n\nThe target file must be in JSON format\nand follows Open Food Facts JSON taxonomy format.\n\nThis is a dict where each key correspond to a taxonomy entry id,\nvalues are dict with following properties:\n\n* name: contains a dict giving the name (string) for this entry\n  in various languages (keys are language codes)\n* synonyms: contains a dict giving a list of synonyms by language code\n* parents: contains a list of direct parent ids (taxonomy is a directed acyclic graph)\n\nOther keys correspond to properties associated to this entry (eg. wikidata id).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Url&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;url&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomySourceConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;indices&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;default_index&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.Config.default_index" title="app.config.Config.default_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">default_index</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Config.indices" title="app.config.Config.indices"><code class="xref py py-obj docutils literal notranslate"><span class="pre">indices</span> <span class="pre">(dict[str,</span> <span class="pre">app.config.IndexConfig])</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Validators<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.Config.defaut_index_must_exist" title="app.config.Config.defaut_index_must_exist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">defaut_index_must_exist</span></code></a> » <code class="xref py py-obj docutils literal notranslate"><span class="pre">all</span> <span class="pre">fields</span></code></p></li>
<li><p><a class="reference internal" href="#app.config.Config.redis_stream_name_should_be_unique" title="app.config.Config.redis_stream_name_should_be_unique"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redis_stream_name_should_be_unique</span></code></a> » <code class="xref py py-obj docutils literal notranslate"><span class="pre">all</span> <span class="pre">fields</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Config.default_index">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'the</span> <span class="pre">default</span> <span class="pre">index</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">when</span> <span class="pre">no</span> <span class="pre">index</span> <span class="pre">is</span> <span class="pre">specified</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">query'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Config.default_index" title="Link to this definition">¶</a></dt>
<dd><p>the default index to use when no index is specified in the query</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.Config.defaut_index_must_exist" title="app.config.Config.defaut_index_must_exist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">defaut_index_must_exist</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Config.redis_stream_name_should_be_unique" title="app.config.Config.redis_stream_name_should_be_unique"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redis_stream_name_should_be_unique</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Config.indices">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.config.IndexConfig" title="app.config.IndexConfig"><span class="pre">IndexConfig</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Config.indices" title="Link to this definition">¶</a></dt>
<dd><p>configuration of indices.</p>
<p>A Search-a-licious instance only have one configuration file,
but is capable of serving multiple datasets</p>
<p>It provides a section for each index you want to create (corresponding to a dataset).</p>
<p>The key is the ID of the index that can be referenced at query time.
One index corresponds to a specific set of documents and can be queried independently.</p>
<p>If you have multiple indexes, one of those index must be designed as the default one,
see <cite>default_index</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.Config.defaut_index_must_exist" title="app.config.Config.defaut_index_must_exist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">defaut_index_must_exist</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Config.redis_stream_name_should_be_unique" title="app.config.Config.redis_stream_name_should_be_unique"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redis_stream_name_should_be_unique</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method pydantic_validator">
<dt class="sig sig-object py" id="app.config.Config.defaut_index_must_exist">
<em class="property"><span class="pre">validator</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">defaut_index_must_exist</span></span><em class="autodoc_pydantic_validator_arrow property">&#160; <span class="pre">»</span>&#160; </em><em class="xref py py-obj"><span class="pre">all</span> <span class="pre">fields</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Config.defaut_index_must_exist" title="Link to this definition">¶</a></dt>
<dd><p>Validator that checks that default_index exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.config.Config.from_yaml">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Path</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#app.config.Config" title="app.config.Config"><span class="pre">Config</span></a></span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Config.from_yaml" title="Link to this definition">¶</a></dt>
<dd><p>Create a Config from a yaml configuration file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.config.Config.get_index_config">
<span class="sig-name descname"><span class="pre">get_index_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.config.IndexConfig" title="app.config.IndexConfig"><span class="pre">IndexConfig</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Config.get_index_config" title="Link to this definition">¶</a></dt>
<dd><p>Return a (index_id, IndexConfig) for the given index_id.</p>
<p>If no index_id is provided, the default index is used.
If the index_id is not found, (index_id, None) is returned.</p>
</dd></dl>

<dl class="py method pydantic_validator">
<dt class="sig sig-object py" id="app.config.Config.redis_stream_name_should_be_unique">
<em class="property"><span class="pre">validator</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">redis_stream_name_should_be_unique</span></span><em class="autodoc_pydantic_validator_arrow property">&#160; <span class="pre">»</span>&#160; </em><em class="xref py py-obj"><span class="pre">all</span> <span class="pre">fields</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Config.redis_stream_name_should_be_unique" title="Link to this definition">¶</a></dt>
<dd><p>Validator that checks that every redis_stream_name is unique.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.config.ConfigGenerateJsonSchema">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">ConfigGenerateJsonSchema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">by_alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'#/$defs/{model}'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ConfigGenerateJsonSchema" title="Link to this definition">¶</a></dt>
<dd><p>Config to add fields to generated JSON schema for Config.</p>
<dl class="py method">
<dt class="sig sig-object py" id="app.config.ConfigGenerateJsonSchema.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'validation'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ConfigGenerateJsonSchema.generate" title="Link to this definition">¶</a></dt>
<dd><p>Generates a JSON schema for a specified schema in a specified mode.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>schema: A Pydantic model.
mode: The mode in which to generate the schema. Defaults to ‘validation’.</p>
</dd>
<dt>Returns:</dt><dd><p>A JSON schema representing the specified schema.</p>
</dd>
<dt>Raises:</dt><dd><p>PydanticUserError: If the JSON schema generator has already been used to generate a JSON schema.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.ESIndexConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">ESIndexConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ESIndexConfig" title="Link to this definition">¶</a></dt>
<dd><p>This is the configuration for the main index containing the data.</p>
<p>It’s used to create the index in ElasticSearch, and configure its mappings
(along with the <em>fields</em> config)</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ESIndexConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration for the main index containing the data.\n\nIt&#39;s used to create the index in ElasticSearch, and configure its mappings\n(along with the *fields* config)&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;id_field_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the field to use for `_id`.\nit is mandatory to provide one.\n\nIf your dataset does not have an identifier field,\nyou should use a document preprocessor to compute one (see `preprocessor`).&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Id Field Name&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;last_modified_field_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the field containing the date of last modification,\nin your indexed objects.\n\nThis is used for incremental updates using Redis queues.\n\nThe field value must be an int/float representing the timestamp.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Last Modified Field Name&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;id_field_name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;last_modified_field_name&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">id_field_name</span> <span class="pre">(Annotated[str,</span> <span class="pre">FieldInfo(annotation=NoneType,</span> <span class="pre">required=True,</span> <span class="pre">description='Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">for</span> <span class="pre">`_id</span></code>.nit is mandatory to provide one.nnIf your dataset does not have an identifier field,nyou should use a document preprocessor to compute one (see <cite>preprocessor</cite>).’)]) &lt;app.config.ESIndexConfig.id_field_name&gt;`</p></li>
<li><p><a class="reference internal" href="#app.config.ESIndexConfig.last_modified_field_name" title="app.config.ESIndexConfig.last_modified_field_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">last_modified_field_name</span> <span class="pre">(Annotated[str,</span> <span class="pre">FieldInfo(annotation=NoneType,</span> <span class="pre">required=True,</span> <span class="pre">description='Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">containing</span> <span class="pre">the</span> <span class="pre">date</span> <span class="pre">of</span> <span class="pre">last</span> <span class="pre">modification,nin</span> <span class="pre">your</span> <span class="pre">indexed</span> <span class="pre">objects.nnThis</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">incremental</span> <span class="pre">updates</span> <span class="pre">using</span> <span class="pre">Redis</span> <span class="pre">queues.nnThe</span> <span class="pre">field</span> <span class="pre">value</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">an</span> <span class="pre">int/float</span> <span class="pre">representing</span> <span class="pre">the</span> <span class="pre">timestamp.')])</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.ESIndexConfig.id_field_name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id_field_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">for</span> <span class="pre">`_id`.\nit</span> <span class="pre">is</span> <span class="pre">mandatory</span> <span class="pre">to</span> <span class="pre">provide</span> <span class="pre">one.\n\nIf</span> <span class="pre">your</span> <span class="pre">dataset</span> <span class="pre">does</span> <span class="pre">not</span> <span class="pre">have</span> <span class="pre">an</span> <span class="pre">identifier</span> <span class="pre">field,\nyou</span> <span class="pre">should</span> <span class="pre">use</span> <span class="pre">a</span> <span class="pre">document</span> <span class="pre">preprocessor</span> <span class="pre">to</span> <span class="pre">compute</span> <span class="pre">one</span> <span class="pre">(see</span> <span class="pre">`preprocessor`).'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ESIndexConfig.id_field_name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the field to use for <cite>_id</cite>.
it is mandatory to provide one.</p>
<p>If your dataset does not have an identifier field,
you should use a document preprocessor to compute one (see <cite>preprocessor</cite>).</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.ESIndexConfig.last_modified_field_name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">last_modified_field_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">containing</span> <span class="pre">the</span> <span class="pre">date</span> <span class="pre">of</span> <span class="pre">last</span> <span class="pre">modification,\nin</span> <span class="pre">your</span> <span class="pre">indexed</span> <span class="pre">objects.\n\nThis</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">incremental</span> <span class="pre">updates</span> <span class="pre">using</span> <span class="pre">Redis</span> <span class="pre">queues.\n\nThe</span> <span class="pre">field</span> <span class="pre">value</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">an</span> <span class="pre">int/float</span> <span class="pre">representing</span> <span class="pre">the</span> <span class="pre">timestamp.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ESIndexConfig.last_modified_field_name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the field containing the date of last modification,
in your indexed objects.</p>
<p>This is used for incremental updates using Redis queues.</p>
<p>The field value must be an int/float representing the timestamp.</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.FieldConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">FieldConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig" title="Link to this definition">¶</a></dt>
<dd><p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FieldConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name of the field (must be unique&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/FieldType&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Type of the field\n\nSupported field types in Search-a-Licious are:\n\n    * keyword: string values that won&#39;t be interpreted (tokenized).\n      Good for things like tags, serial, property values, etc.\n    * date: Date fields\n    * double, float, half_float, scaled_float:\n      different ways of storing floats with different capacity\n    * short, integer, long, unsigned_long :\n      integers (with different capacity:  8 / 16 / 32 bits)\n    * bool: boolean (true / false) values\n    * text: a text which is tokenized to enable full text search\n    * text_lang: like text, but with different values in different languages.\n      Tokenization will use analyzers specific to each languages.\n    * taxonomy: a field akin to keyword but\n      with support for matching using taxonomy synonyms and translations\n      (and in fact also a text mapping possibility)\n    * disabled: a field that is not stored nor searchable\n      (see [Elasticsearch help])\n    * object: this field contains a dict with sub-fields.\n    \n\n[Elasticsearch help]: https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;if required=True, the field is required in the input data\n\nAn entry that does not contains a value for this field will be rejected.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Required&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;input_field&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name of the input field to use when importing data\n\nBy default, Search-a-licious use the same name as the field name.\n\nThis is useful to index the same field using different types or configurations.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Input Field&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;split&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;do we split the input field with `split_separator` ?\n\nThis is useful if you have some text fields that contains list of values,\n(for example a comma separated list of values, like apple,banana,carrot).\n\nYou must set split_separator to the character that separates the values in the dataset.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Split&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;full_text_search&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wether this field in included on default full text search.\n\nIf `false`, the field is only used during search\nwhen filters involving this field are provided\n(as opposed to full text search expressions without any explicit field).&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Full Text Search&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;bucket_agg&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;do we add an bucket aggregation to the elasticsearch query for this field.\n\nIt is used to return a &#39;faceted-view&#39; with the number of results for each facet value,\nor to generate bar charts.\n\nOnly valid for keyword, taxonomy or numeric field types.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bucket Agg&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;taxonomy_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;the name of the taxonomy associated with this field.\n\nIt must only be provided for taxonomy field type.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Taxonomy Name&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;$defs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;FieldType&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Supported field types in Search-a-Licious are:\n\n    * keyword: string values that won&#39;t be interpreted (tokenized).\n      Good for things like tags, serial, property values, etc.\n    * date: Date fields\n    * double, float, half_float, scaled_float:\n      different ways of storing floats with different capacity\n    * short, integer, long, unsigned_long :\n      integers (with different capacity:  8 / 16 / 32 bits)\n    * bool: boolean (true / false) values\n    * text: a text which is tokenized to enable full text search\n    * text_lang: like text, but with different values in different languages.\n      Tokenization will use analyzers specific to each languages.\n    * taxonomy: a field akin to keyword but\n      with support for matching using taxonomy synonyms and translations\n      (and in fact also a text mapping possibility)\n    * disabled: a field that is not stored nor searchable\n      (see [Elasticsearch help])\n    * object: this field contains a dict with sub-fields.\n    \n\n[Elasticsearch help]: https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;keyword&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;half_float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;scaled_float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;short&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;long&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;unsigned_long&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;bool&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;text_lang&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;taxonomy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;object&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FieldType&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;type&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg" title="app.config.FieldConfig.bucket_agg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg</span> <span class="pre">(bool)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.FieldConfig.full_text_search" title="app.config.FieldConfig.full_text_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">full_text_search</span> <span class="pre">(bool)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.FieldConfig.input_field" title="app.config.FieldConfig.input_field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">input_field</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.FieldConfig.name" title="app.config.FieldConfig.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.FieldConfig.required" title="app.config.FieldConfig.required"><code class="xref py py-obj docutils literal notranslate"><span class="pre">required</span> <span class="pre">(bool)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.FieldConfig.split" title="app.config.FieldConfig.split"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split</span> <span class="pre">(bool)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.FieldConfig.taxonomy_name" title="app.config.FieldConfig.taxonomy_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.FieldConfig.type" title="app.config.FieldConfig.type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">type</span> <span class="pre">(app.config.FieldType)</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Validators<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a> » <code class="xref py py-obj docutils literal notranslate"><span class="pre">all</span> <span class="pre">fields</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.bucket_agg">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bucket_agg</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">&quot;do</span> <span class="pre">we</span> <span class="pre">add</span> <span class="pre">an</span> <span class="pre">bucket</span> <span class="pre">aggregation</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">elasticsearch</span> <span class="pre">query</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">field.\n\nIt</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">return</span> <span class="pre">a</span> <span class="pre">'faceted-view'</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">results</span> <span class="pre">for</span> <span class="pre">each</span> <span class="pre">facet</span> <span class="pre">value,\nor</span> <span class="pre">to</span> <span class="pre">generate</span> <span class="pre">bar</span> <span class="pre">charts.\n\nOnly</span> <span class="pre">valid</span> <span class="pre">for</span> <span class="pre">keyword,</span> <span class="pre">taxonomy</span> <span class="pre">or</span> <span class="pre">numeric</span> <span class="pre">field</span> <span class="pre">types.&quot;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.bucket_agg" title="Link to this definition">¶</a></dt>
<dd><p>do we add an bucket aggregation to the elasticsearch query for this field.</p>
<p>It is used to return a ‘faceted-view’ with the number of results for each facet value,
or to generate bar charts.</p>
<p>Only valid for keyword, taxonomy or numeric field types.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.full_text_search">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_text_search</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Wether</span> <span class="pre">this</span> <span class="pre">field</span> <span class="pre">in</span> <span class="pre">included</span> <span class="pre">on</span> <span class="pre">default</span> <span class="pre">full</span> <span class="pre">text</span> <span class="pre">search.\n\nIf</span> <span class="pre">`false`,</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">is</span> <span class="pre">only</span> <span class="pre">used</span> <span class="pre">during</span> <span class="pre">search\nwhen</span> <span class="pre">filters</span> <span class="pre">involving</span> <span class="pre">this</span> <span class="pre">field</span> <span class="pre">are</span> <span class="pre">provided\n(as</span> <span class="pre">opposed</span> <span class="pre">to</span> <span class="pre">full</span> <span class="pre">text</span> <span class="pre">search</span> <span class="pre">expressions</span> <span class="pre">without</span> <span class="pre">any</span> <span class="pre">explicit</span> <span class="pre">field).'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.full_text_search" title="Link to this definition">¶</a></dt>
<dd><p>Wether this field in included on default full text search.</p>
<p>If <cite>false</cite>, the field is only used during search
when filters involving this field are provided
(as opposed to full text search expressions without any explicit field).</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.input_field">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">input_field</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">input</span> <span class="pre">field</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">when</span> <span class="pre">importing</span> <span class="pre">data\n\nBy</span> <span class="pre">default,</span> <span class="pre">Search-a-licious</span> <span class="pre">use</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">name</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">name.\n\nThis</span> <span class="pre">is</span> <span class="pre">useful</span> <span class="pre">to</span> <span class="pre">index</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">field</span> <span class="pre">using</span> <span class="pre">different</span> <span class="pre">types</span> <span class="pre">or</span> <span class="pre">configurations.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.input_field" title="Link to this definition">¶</a></dt>
<dd><p>name of the input field to use when importing data</p>
<p>By default, Search-a-licious use the same name as the field name.</p>
<p>This is useful to index the same field using different types or configurations.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">(must</span> <span class="pre">be</span> <span class="pre">unique'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.name" title="Link to this definition">¶</a></dt>
<dd><p>name of the field (must be unique</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.required">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">required</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'if</span> <span class="pre">required=True,</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">is</span> <span class="pre">required</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">input</span> <span class="pre">data\n\nAn</span> <span class="pre">entry</span> <span class="pre">that</span> <span class="pre">does</span> <span class="pre">not</span> <span class="pre">contains</span> <span class="pre">a</span> <span class="pre">value</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">field</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">rejected.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.required" title="Link to this definition">¶</a></dt>
<dd><p>if required=True, the field is required in the input data</p>
<p>An entry that does not contains a value for this field will be rejected.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.split">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'do</span> <span class="pre">we</span> <span class="pre">split</span> <span class="pre">the</span> <span class="pre">input</span> <span class="pre">field</span> <span class="pre">with</span> <span class="pre">`split_separator`</span> <span class="pre">?\n\nThis</span> <span class="pre">is</span> <span class="pre">useful</span> <span class="pre">if</span> <span class="pre">you</span> <span class="pre">have</span> <span class="pre">some</span> <span class="pre">text</span> <span class="pre">fields</span> <span class="pre">that</span> <span class="pre">contains</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">values,\n(for</span> <span class="pre">example</span> <span class="pre">a</span> <span class="pre">comma</span> <span class="pre">separated</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">values,</span> <span class="pre">like</span> <span class="pre">apple,banana,carrot).\n\nYou</span> <span class="pre">must</span> <span class="pre">set</span> <span class="pre">split_separator</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">character</span> <span class="pre">that</span> <span class="pre">separates</span> <span class="pre">the</span> <span class="pre">values</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">dataset.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.split" title="Link to this definition">¶</a></dt>
<dd><p>do we split the input field with <cite>split_separator</cite> ?</p>
<p>This is useful if you have some text fields that contains list of values,
(for example a comma separated list of values, like apple,banana,carrot).</p>
<p>You must set split_separator to the character that separates the values in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.taxonomy_name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">taxonomy_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'the</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">taxonomy</span> <span class="pre">associated</span> <span class="pre">with</span> <span class="pre">this</span> <span class="pre">field.\n\nIt</span> <span class="pre">must</span> <span class="pre">only</span> <span class="pre">be</span> <span class="pre">provided</span> <span class="pre">for</span> <span class="pre">taxonomy</span> <span class="pre">field</span> <span class="pre">type.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.taxonomy_name" title="Link to this definition">¶</a></dt>
<dd><p>the name of the taxonomy associated with this field.</p>
<p>It must only be provided for taxonomy field type.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.FieldConfig.type">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#app.config.FieldType" title="app.config.FieldType"><span class="pre">FieldType</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">&quot;Type</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">field\n\nSupported</span> <span class="pre">field</span> <span class="pre">types</span> <span class="pre">in</span> <span class="pre">Search-a-Licious</span> <span class="pre">are:\n\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">keyword:</span> <span class="pre">string</span> <span class="pre">values</span> <span class="pre">that</span> <span class="pre">won't</span> <span class="pre">be</span> <span class="pre">interpreted</span> <span class="pre">(tokenized).\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">Good</span> <span class="pre">for</span> <span class="pre">things</span> <span class="pre">like</span> <span class="pre">tags,</span> <span class="pre">serial,</span> <span class="pre">property</span> <span class="pre">values,</span> <span class="pre">etc.\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">date:</span> <span class="pre">Date</span> <span class="pre">fields\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">double,</span> <span class="pre">float,</span> <span class="pre">half_float,</span> <span class="pre">scaled_float:\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">different</span> <span class="pre">ways</span> <span class="pre">of</span> <span class="pre">storing</span> <span class="pre">floats</span> <span class="pre">with</span> <span class="pre">different</span> <span class="pre">capacity\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">short,</span> <span class="pre">integer,</span> <span class="pre">long,</span> <span class="pre">unsigned_long</span> <span class="pre">:\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">integers</span> <span class="pre">(with</span> <span class="pre">different</span> <span class="pre">capacity:</span>&#160; <span class="pre">8</span> <span class="pre">/</span> <span class="pre">16</span> <span class="pre">/</span> <span class="pre">32</span> <span class="pre">bits)\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">bool:</span> <span class="pre">boolean</span> <span class="pre">(true</span> <span class="pre">/</span> <span class="pre">false)</span> <span class="pre">values\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">text:</span> <span class="pre">a</span> <span class="pre">text</span> <span class="pre">which</span> <span class="pre">is</span> <span class="pre">tokenized</span> <span class="pre">to</span> <span class="pre">enable</span> <span class="pre">full</span> <span class="pre">text</span> <span class="pre">search\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">text_lang:</span> <span class="pre">like</span> <span class="pre">text,</span> <span class="pre">but</span> <span class="pre">with</span> <span class="pre">different</span> <span class="pre">values</span> <span class="pre">in</span> <span class="pre">different</span> <span class="pre">languages.\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">Tokenization</span> <span class="pre">will</span> <span class="pre">use</span> <span class="pre">analyzers</span> <span class="pre">specific</span> <span class="pre">to</span> <span class="pre">each</span> <span class="pre">languages.\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">taxonomy:</span> <span class="pre">a</span> <span class="pre">field</span> <span class="pre">akin</span> <span class="pre">to</span> <span class="pre">keyword</span> <span class="pre">but\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">with</span> <span class="pre">support</span> <span class="pre">for</span> <span class="pre">matching</span> <span class="pre">using</span> <span class="pre">taxonomy</span> <span class="pre">synonyms</span> <span class="pre">and</span> <span class="pre">translations\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">(and</span> <span class="pre">in</span> <span class="pre">fact</span> <span class="pre">also</span> <span class="pre">a</span> <span class="pre">text</span> <span class="pre">mapping</span> <span class="pre">possibility)\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">disabled:</span> <span class="pre">a</span> <span class="pre">field</span> <span class="pre">that</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">stored</span> <span class="pre">nor</span> <span class="pre">searchable\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">(see</span> <span class="pre">[Elasticsearch</span> <span class="pre">help])\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">object:</span> <span class="pre">this</span> <span class="pre">field</span> <span class="pre">contains</span> <span class="pre">a</span> <span class="pre">dict</span> <span class="pre">with</span> <span class="pre">sub-fields.\n</span>&#160;&#160;&#160; <span class="pre">\n\n[Elasticsearch</span> <span class="pre">help]:</span> <span class="pre">https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html&quot;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.type" title="Link to this definition">¶</a></dt>
<dd><p>Type of the field</p>
<p>Supported field types in Search-a-Licious are:</p>
<blockquote>
<div><ul class="simple">
<li><p>keyword: string values that won’t be interpreted (tokenized).
Good for things like tags, serial, property values, etc.</p></li>
<li><p>date: Date fields</p></li>
<li><p>double, float, half_float, scaled_float:
different ways of storing floats with different capacity</p></li>
<li><p>short, integer, long, unsigned_long :
integers (with different capacity:  8 / 16 / 32 bits)</p></li>
<li><p>bool: boolean (true / false) values</p></li>
<li><p>text: a text which is tokenized to enable full text search</p></li>
<li><p>text_lang: like text, but with different values in different languages.
Tokenization will use analyzers specific to each languages.</p></li>
<li><p>taxonomy: a field akin to keyword but
with support for matching using taxonomy synonyms and translations
(and in fact also a text mapping possibility)</p></li>
<li><p>disabled: a field that is not stored nor searchable
(see [Elasticsearch help])</p></li>
<li><p>object: this field contains a dict with sub-fields.</p></li>
</ul>
</div></blockquote>
<p>[Elasticsearch help]: <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html</a></p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method pydantic_validator">
<dt class="sig sig-object py" id="app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only">
<em class="property"><span class="pre">validator</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bucket_agg_should_be_used_for_keyword_and_numeric_types_only</span></span><em class="autodoc_pydantic_validator_arrow property">&#160; <span class="pre">»</span>&#160; </em><em class="xref py py-obj"><span class="pre">all</span> <span class="pre">fields</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.bucket_agg_should_be_used_for_keyword_and_numeric_types_only" title="Link to this definition">¶</a></dt>
<dd><p>Validator that checks that <cite>bucket_agg</cite> is only provided for
fields with types <cite>keyword</cite>, <cite>double</cite>, <cite>float</cite>, <cite>integer</cite> or <cite>bool</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.config.FieldConfig.get_input_field">
<span class="sig-name descname"><span class="pre">get_input_field</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.get_input_field" title="Link to this definition">¶</a></dt>
<dd><p>Return the name of the field to use in input data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.config.FieldConfig.has_lang_subfield">
<span class="sig-name descname"><span class="pre">has_lang_subfield</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldConfig.has_lang_subfield" title="Link to this definition">¶</a></dt>
<dd><p>Return wether this field type is supposed to have different values
per languages</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.config.FieldType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">FieldType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldType" title="Link to this definition">¶</a></dt>
<dd><p>Supported field types in Search-a-Licious are:</p>
<blockquote>
<div><ul class="simple">
<li><p>keyword: string values that won’t be interpreted (tokenized).
Good for things like tags, serial, property values, etc.</p></li>
<li><p>date: Date fields</p></li>
<li><p>double, float, half_float, scaled_float:
different ways of storing floats with different capacity</p></li>
<li><p>short, integer, long, unsigned_long :
integers (with different capacity:  8 / 16 / 32 bits)</p></li>
<li><p>bool: boolean (true / false) values</p></li>
<li><p>text: a text which is tokenized to enable full text search</p></li>
<li><p>text_lang: like text, but with different values in different languages.
Tokenization will use analyzers specific to each languages.</p></li>
<li><p>taxonomy: a field akin to keyword but
with support for matching using taxonomy synonyms and translations
(and in fact also a text mapping possibility)</p></li>
<li><p>disabled: a field that is not stored nor searchable
(see [Elasticsearch help])</p></li>
<li><p>object: this field contains a dict with sub-fields.</p></li>
</ul>
</div></blockquote>
<p>[Elasticsearch help]: <a class="reference external" href="https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html">https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html</a></p>
<dl class="py method">
<dt class="sig sig-object py" id="app.config.FieldType.is_numeric">
<span class="sig-name descname"><span class="pre">is_numeric</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.FieldType.is_numeric" title="Link to this definition">¶</a></dt>
<dd><p>Return wether this field type can be considered numeric</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.IndexConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">IndexConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig" title="Link to this definition">¶</a></dt>
<dd><p>This object gives configuration for one index.</p>
<p>One index usually correspond to one dataset.</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;IndexConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This object gives configuration for one index.\n\nOne index usually correspond to one dataset.&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/ESIndexConfig&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration for the main index containing the data.\n\n    It&#39;s used to create the index in ElasticSearch, and configure its mappings\n    (along with the *fields* config)\n    &quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/FieldConfig&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration of all fields we need to store in the index.\n\nKeys are field names,\nvalues contain the field configuration.\n\nThis is a very important part of the configuration.\n\nMost of the ElasticSearch mapping will depends on it.\nElasticSearch will also use this configuration\nto provide intended behaviour.\n\n(see also [Explain Configuration](./explain_configuration.md#fields))\n\nIf you change those settings you will have to re-index all the data.\n(But you can do so in the background).&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Fields&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;split_separator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;,&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;separator to use when splitting values, for fields that have split=True&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Split Separator&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;lang_separator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;for `text_lang` FieldType, the separator between the name of the field and the language code, ex: product_name_it if lang_separator=\&quot;_\&quot;&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Lang Separator&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;primary_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#aaa&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Used for vega charts. Use CSS color code.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Primary Color&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;accent_color&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#222&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Used for vega. Should be CSS color code.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Accent Color&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;taxonomy&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomyConfig&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration of taxonomies,\n    that is collections of entries with synonyms in multiple languages.\n\n    See [Explain taxonomies](../explain-taxonomies)\n\n    Field may be linked to taxonomies.\n\n    It enables enriching search with synonyms,\n    as well as providing suggestions,\n    or informative facets.\n\n    Note: if you define taxonomies, you must import them using\n    [import-taxonomies command](../ref-python/cli.html#python3-m-app-import-taxonomies)\n    &quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;supported_langs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A list of all supported languages, it is used to build index mapping&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">[</span>
<span class="w">               </span><span class="s2">&quot;en&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="s2">&quot;fr&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="s2">&quot;it&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Supported Langs&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;document_fetcher&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the document fetcher,\ni.e. the class responsible from fetching the document.\nusing the document ID present in the Redis Stream.\n\nIt should inherit `app._import.BaseDocumentFetcher`\nand specialize the `fetch_document` method.\n\nTo keep things sleek,\nyou generally have few item fields in the event stream payload.\nThis class will fetch the full document using your application API.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;app.openfoodfacts.DocumentFetcher&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Document Fetcher&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;preprocessor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the preprocessor\nto use before data import.\n\nThis class must inherit `app.indexing.BaseDocumentPreprocessor`\nand specialize the `preprocess` method.\n\nThis is used to adapt the data schema\nor to add search-a-licious specific fields\nfor example.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;app.openfoodfacts.DocumentPreprocessor&quot;</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Preprocessor&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;result_processor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the elasticsearch result processor\n                    to use after search query to Elasticsearch.\n\n)                    This class must inherit `app.postprocessing.BaseResultProcessor`\n                    and specialize the `process_after`\n\n                    This is can be used to add custom fields computed from index content.\n                    &quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;app.openfoodfacts.ResultProcessor&quot;</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Result Processor&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;scripts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;additionalProperties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/ScriptConfig&quot;</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;You can add scripts that can be used for sorting results.\n\nEach key is a script name, with it&#39;s configuration.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Scripts&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;match_phrase_boost&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;How much we boost exact matches on consecutive words\n\nThat is, if you search \&quot;Dark Chocolate\&quot;,\nit will boost entries that have the \&quot;Dark Chocolate\&quot; phrase (in the same field).\n\nIt only applies to free text search.\n\nThis only makes sense when using\n\&quot;boost_phrase\&quot; request parameters and \&quot;best match\&quot; order.\n\nNote: this field accept float of string,\nbecause using float might generate rounding problems.\nThe string must represent a float.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Match Phrase Boost&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;number&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;match_phrase_boost_proximity&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;How much we allow proximity for `match_phrase_boost`.\n\nIf unspecified we will just match word to word.\nOtherwise it will allow some gap between words matching\n\nThis only makes sense when using\n\&quot;boost_phrase\&quot; request parameters and \&quot;best match\&quot; order.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Match Phrase Boost Proximity&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;document_denylist&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;list of documents IDs to ignore.\n\nUse this to skip some documents at indexing time.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Document Denylist&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;uniqueItems&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;redis_stream_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the Redis stream to read from when listening to document updates.\n\nIf not provided, document updates won&#39;t be listened to for this index.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Redis Stream Name&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;$defs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;ESIndexConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration for the main index containing the data.\n\nIt&#39;s used to create the index in ElasticSearch, and configure its mappings\n(along with the *fields* config)&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;id_field_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the field to use for `_id`.\nit is mandatory to provide one.\n\nIf your dataset does not have an identifier field,\nyou should use a document preprocessor to compute one (see `preprocessor`).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Id Field Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;last_modified_field_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the field containing the date of last modification,\nin your indexed objects.\n\nThis is used for incremental updates using Redis queues.\n\nThe field value must be an int/float representing the timestamp.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Last Modified Field Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;id_field_name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;last_modified_field_name&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ESIndexConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;FieldConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name of the field (must be unique&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/FieldType&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Type of the field\n\nSupported field types in Search-a-Licious are:\n\n    * keyword: string values that won&#39;t be interpreted (tokenized).\n      Good for things like tags, serial, property values, etc.\n    * date: Date fields\n    * double, float, half_float, scaled_float:\n      different ways of storing floats with different capacity\n    * short, integer, long, unsigned_long :\n      integers (with different capacity:  8 / 16 / 32 bits)\n    * bool: boolean (true / false) values\n    * text: a text which is tokenized to enable full text search\n    * text_lang: like text, but with different values in different languages.\n      Tokenization will use analyzers specific to each languages.\n    * taxonomy: a field akin to keyword but\n      with support for matching using taxonomy synonyms and translations\n      (and in fact also a text mapping possibility)\n    * disabled: a field that is not stored nor searchable\n      (see [Elasticsearch help])\n    * object: this field contains a dict with sub-fields.\n    \n\n[Elasticsearch help]: https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;if required=True, the field is required in the input data\n\nAn entry that does not contains a value for this field will be rejected.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Required&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;input_field&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name of the input field to use when importing data\n\nBy default, Search-a-licious use the same name as the field name.\n\nThis is useful to index the same field using different types or configurations.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Input Field&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;split&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;do we split the input field with `split_separator` ?\n\nThis is useful if you have some text fields that contains list of values,\n(for example a comma separated list of values, like apple,banana,carrot).\n\nYou must set split_separator to the character that separates the values in the dataset.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Split&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;full_text_search&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Wether this field in included on default full text search.\n\nIf `false`, the field is only used during search\nwhen filters involving this field are provided\n(as opposed to full text search expressions without any explicit field).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Full Text Search&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;bucket_agg&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;do we add an bucket aggregation to the elasticsearch query for this field.\n\nIt is used to return a &#39;faceted-view&#39; with the number of results for each facet value,\nor to generate bar charts.\n\nOnly valid for keyword, taxonomy or numeric field types.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bucket Agg&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;boolean&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;taxonomy_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;the name of the taxonomy associated with this field.\n\nIt must only be provided for taxonomy field type.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Taxonomy Name&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;type&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FieldConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;FieldType&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Supported field types in Search-a-Licious are:\n\n    * keyword: string values that won&#39;t be interpreted (tokenized).\n      Good for things like tags, serial, property values, etc.\n    * date: Date fields\n    * double, float, half_float, scaled_float:\n      different ways of storing floats with different capacity\n    * short, integer, long, unsigned_long :\n      integers (with different capacity:  8 / 16 / 32 bits)\n    * bool: boolean (true / false) values\n    * text: a text which is tokenized to enable full text search\n    * text_lang: like text, but with different values in different languages.\n      Tokenization will use analyzers specific to each languages.\n    * taxonomy: a field akin to keyword but\n      with support for matching using taxonomy synonyms and translations\n      (and in fact also a text mapping possibility)\n    * disabled: a field that is not stored nor searchable\n      (see [Elasticsearch help])\n    * object: this field contains a dict with sub-fields.\n    \n\n[Elasticsearch help]: https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;keyword&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;date&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;half_float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;scaled_float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;float&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;double&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;integer&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;short&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;long&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;unsigned_long&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;bool&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;text_lang&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;taxonomy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;disabled&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;object&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;FieldType&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;ScriptConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Scripts can be used to sort results of a search.\n\nThis use ElasticSearch internal capabilities&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;lang&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/ScriptType&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;expression&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The script language, as supported by Elasticsearch&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The source of the script&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Source&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Params for the scripts. We need this to retrieve and validate parameters&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Params&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;static_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Additional params for the scripts that can&#39;t be supplied by the API (constants)&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Static Params&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;params&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;static_params&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ScriptConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;ScriptType&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;expression&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;painless&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ScriptType&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;TaxonomyConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration of taxonomies,\nthat is collections of entries with synonyms in multiple languages.\n\nSee [Explain taxonomies](../explain-taxonomies)\n\nField may be linked to taxonomies.\n\nIt enables enriching search with synonyms,\nas well as providing suggestions,\nor informative facets.\n\nNote: if you define taxonomies, you must import them using\n[import-taxonomies command](../ref-python/cli.html#python3-m-app-import-taxonomies)&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;sources&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configurations of taxonomies that this project will use.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomySourceConfig&quot;</span>
<span class="w">               </span><span class="p">},</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sources&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomyIndexConfig&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration of\n    the ElasticSearch index storing the taxonomies.\n\n    All taxonomies are stored within the same index.\n\n    It enables functions like auto-completion, or field suggestions\n    as well as enrichment of requests with synonyms.\n    &quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;preprocessor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the preprocessor\nto use before taxonomy entry import.\n\nThis class must inherit `app.indexing.BaseTaxonomyPreprocessor`\nand specialize the `preprocess` method.\n\nThis is used to adapt the taxonomy schema\nor to add specific fields for example.&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">&quot;app.openfoodfacts.TaxonomyPreprocessor&quot;</span>
<span class="w">                     </span><span class="p">],</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Preprocessor&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;sources&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;index&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomyConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;TaxonomyIndexConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration of\nthe ElasticSearch index storing the taxonomies.\n\nAll taxonomies are stored within the same index.\n\nIt enables functions like auto-completion, or field suggestions\nas well as enrichment of requests with synonyms.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomyIndexConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;TaxonomySourceConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration on how to fetch a particular taxonomy.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the taxonomy\n\nThis is the name you will use in the configuration (and the API)\nto reference this taxonomy&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2083</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;URL of the taxonomy.\n\nThe target file must be in JSON format\nand follows Open Food Facts JSON taxonomy format.\n\nThis is a dict where each key correspond to a taxonomy entry id,\nvalues are dict with following properties:\n\n* name: contains a dict giving the name (string) for this entry\n  in various languages (keys are language codes)\n* synonyms: contains a dict giving a list of synonyms by language code\n* parents: contains a list of direct parent ids (taxonomy is a directed acyclic graph)\n\nOther keys correspond to properties associated to this entry (eg. wikidata id).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Url&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;url&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomySourceConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;index&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;fields&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;taxonomy&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;supported_langs&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;document_fetcher&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.accent_color" title="app.config.IndexConfig.accent_color"><code class="xref py py-obj docutils literal notranslate"><span class="pre">accent_color</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.document_denylist" title="app.config.IndexConfig.document_denylist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">document_denylist</span> <span class="pre">(set[str])</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.document_fetcher" title="app.config.IndexConfig.document_fetcher"><code class="xref py py-obj docutils literal notranslate"><span class="pre">document_fetcher</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.fields" title="app.config.IndexConfig.fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fields</span> <span class="pre">(dict[str,</span> <span class="pre">app.config.FieldConfig])</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.index" title="app.config.IndexConfig.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span> <span class="pre">(app.config.ESIndexConfig)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.lang_separator" title="app.config.IndexConfig.lang_separator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lang_separator</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.match_phrase_boost" title="app.config.IndexConfig.match_phrase_boost"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_phrase_boost</span> <span class="pre">(float)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.match_phrase_boost_proximity" title="app.config.IndexConfig.match_phrase_boost_proximity"><code class="xref py py-obj docutils literal notranslate"><span class="pre">match_phrase_boost_proximity</span> <span class="pre">(int</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.preprocessor" title="app.config.IndexConfig.preprocessor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">preprocessor</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.primary_color" title="app.config.IndexConfig.primary_color"><code class="xref py py-obj docutils literal notranslate"><span class="pre">primary_color</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.redis_stream_name" title="app.config.IndexConfig.redis_stream_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redis_stream_name</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.result_processor" title="app.config.IndexConfig.result_processor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">result_processor</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.scripts" title="app.config.IndexConfig.scripts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scripts</span> <span class="pre">(dict[str,</span> <span class="pre">app.config.ScriptConfig]</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.split_separator" title="app.config.IndexConfig.split_separator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split_separator</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.supported_langs" title="app.config.IndexConfig.supported_langs"><code class="xref py py-obj docutils literal notranslate"><span class="pre">supported_langs</span> <span class="pre">(list[str])</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy" title="app.config.IndexConfig.taxonomy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy</span> <span class="pre">(app.config.TaxonomyConfig)</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Validators<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.add_field_name_to_each_field" title="app.config.IndexConfig.add_field_name_to_each_field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_field_name_to_each_field</span></code></a> » <a class="reference internal" href="#app.config.IndexConfig.fields" title="app.config.IndexConfig.fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fields</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.ensure_no_fields_use_reserved_name" title="app.config.IndexConfig.ensure_no_fields_use_reserved_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ensure_no_fields_use_reserved_name</span></code></a> » <a class="reference internal" href="#app.config.IndexConfig.fields" title="app.config.IndexConfig.fields"><code class="xref py py-obj docutils literal notranslate"><span class="pre">fields</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a> » <code class="xref py py-obj docutils literal notranslate"><span class="pre">all</span> <span class="pre">fields</span></code></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a> » <code class="xref py py-obj docutils literal notranslate"><span class="pre">all</span> <span class="pre">fields</span></code></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.accent_color">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">accent_color</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Used</span> <span class="pre">for</span> <span class="pre">vega.</span> <span class="pre">Should</span> <span class="pre">be</span> <span class="pre">CSS</span> <span class="pre">color</span> <span class="pre">code.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#222'</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.accent_color" title="Link to this definition">¶</a></dt>
<dd><p>Used for vega. Should be CSS color code.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.document_denylist">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">document_denylist</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">set</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'list</span> <span class="pre">of</span> <span class="pre">documents</span> <span class="pre">IDs</span> <span class="pre">to</span> <span class="pre">ignore.\n\nUse</span> <span class="pre">this</span> <span class="pre">to</span> <span class="pre">skip</span> <span class="pre">some</span> <span class="pre">documents</span> <span class="pre">at</span> <span class="pre">indexing</span> <span class="pre">time.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Optional]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.document_denylist" title="Link to this definition">¶</a></dt>
<dd><p>list of documents IDs to ignore.</p>
<p>Use this to skip some documents at indexing time.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.document_fetcher">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">document_fetcher</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'The</span> <span class="pre">full</span> <span class="pre">qualified</span> <span class="pre">reference</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">document</span> <span class="pre">fetcher,\ni.e.</span> <span class="pre">the</span> <span class="pre">class</span> <span class="pre">responsible</span> <span class="pre">from</span> <span class="pre">fetching</span> <span class="pre">the</span> <span class="pre">document.\nusing</span> <span class="pre">the</span> <span class="pre">document</span> <span class="pre">ID</span> <span class="pre">present</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">Redis</span> <span class="pre">Stream.\n\nIt</span> <span class="pre">should</span> <span class="pre">inherit</span> <span class="pre">`app._import.BaseDocumentFetcher`\nand</span> <span class="pre">specialize</span> <span class="pre">the</span> <span class="pre">`fetch_document`</span> <span class="pre">method.\n\nTo</span> <span class="pre">keep</span> <span class="pre">things</span> <span class="pre">sleek,\nyou</span> <span class="pre">generally</span> <span class="pre">have</span> <span class="pre">few</span> <span class="pre">item</span> <span class="pre">fields</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">event</span> <span class="pre">stream</span> <span class="pre">payload.\nThis</span> <span class="pre">class</span> <span class="pre">will</span> <span class="pre">fetch</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">document</span> <span class="pre">using</span> <span class="pre">your</span> <span class="pre">application</span> <span class="pre">API.'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">examples</span></span><span class="o"><span class="pre">=</span></span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'app.openfoodfacts.DocumentFetcher'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.document_fetcher" title="Link to this definition">¶</a></dt>
<dd><p>The full qualified reference to the document fetcher,
i.e. the class responsible from fetching the document.
using the document ID present in the Redis Stream.</p>
<p>It should inherit <cite>app._import.BaseDocumentFetcher</cite>
and specialize the <cite>fetch_document</cite> method.</p>
<p>To keep things sleek,
you generally have few item fields in the event stream payload.
This class will fetch the full document using your application API.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.fields">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fields</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.config.FieldConfig" title="app.config.FieldConfig"><span class="pre">FieldConfig</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Configuration</span> <span class="pre">of</span> <span class="pre">all</span> <span class="pre">fields</span> <span class="pre">we</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">store</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">index.\n\nKeys</span> <span class="pre">are</span> <span class="pre">field</span> <span class="pre">names,\nvalues</span> <span class="pre">contain</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">configuration.\n\nThis</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">very</span> <span class="pre">important</span> <span class="pre">part</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">configuration.\n\nMost</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">ElasticSearch</span> <span class="pre">mapping</span> <span class="pre">will</span> <span class="pre">depends</span> <span class="pre">on</span> <span class="pre">it.\nElasticSearch</span> <span class="pre">will</span> <span class="pre">also</span> <span class="pre">use</span> <span class="pre">this</span> <span class="pre">configuration\nto</span> <span class="pre">provide</span> <span class="pre">intended</span> <span class="pre">behaviour.\n\n(see</span> <span class="pre">also</span> <span class="pre">[Explain</span> <span class="pre">Configuration](./explain_configuration.md#fields))\n\nIf</span> <span class="pre">you</span> <span class="pre">change</span> <span class="pre">those</span> <span class="pre">settings</span> <span class="pre">you</span> <span class="pre">will</span> <span class="pre">have</span> <span class="pre">to</span> <span class="pre">re-index</span> <span class="pre">all</span> <span class="pre">the</span> <span class="pre">data.\n(But</span> <span class="pre">you</span> <span class="pre">can</span> <span class="pre">do</span> <span class="pre">so</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">background).'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.fields" title="Link to this definition">¶</a></dt>
<dd><p>Configuration of all fields we need to store in the index.</p>
<p>Keys are field names,
values contain the field configuration.</p>
<p>This is a very important part of the configuration.</p>
<p>Most of the ElasticSearch mapping will depends on it.
ElasticSearch will also use this configuration
to provide intended behaviour.</p>
<p>(see also [Explain Configuration](./explain_configuration.md#fields))</p>
<p>If you change those settings you will have to re-index all the data.
(But you can do so in the background).</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.add_field_name_to_each_field" title="app.config.IndexConfig.add_field_name_to_each_field"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_field_name_to_each_field</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.ensure_no_fields_use_reserved_name" title="app.config.IndexConfig.ensure_no_fields_use_reserved_name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ensure_no_fields_use_reserved_name</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.index">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#app.config.ESIndexConfig" title="app.config.ESIndexConfig"><span class="pre">ESIndexConfig</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">&quot;This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">configuration</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">main</span> <span class="pre">index</span> <span class="pre">containing</span> <span class="pre">the</span> <span class="pre">data.\n\n</span>&#160;&#160;&#160; <span class="pre">It's</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">create</span> <span class="pre">the</span> <span class="pre">index</span> <span class="pre">in</span> <span class="pre">ElasticSearch,</span> <span class="pre">and</span> <span class="pre">configure</span> <span class="pre">its</span> <span class="pre">mappings\n</span>&#160;&#160;&#160; <span class="pre">(along</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">*fields*</span> <span class="pre">config)\n</span>&#160;&#160;&#160; <span class="pre">&quot;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.index" title="Link to this definition">¶</a></dt>
<dd><p>This is the configuration for the main index containing the data.</p>
<p>It’s used to create the index in ElasticSearch, and configure its mappings
(along with the <em>fields</em> config)</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.lang_separator">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lang_separator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'for</span> <span class="pre">`text_lang`</span> <span class="pre">FieldType,</span> <span class="pre">the</span> <span class="pre">separator</span> <span class="pre">between</span> <span class="pre">the</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">language</span> <span class="pre">code,</span> <span class="pre">ex:</span> <span class="pre">product_name_it</span> <span class="pre">if</span> <span class="pre">lang_separator=&quot;_&quot;'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_'</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.lang_separator" title="Link to this definition">¶</a></dt>
<dd><p>for <cite>text_lang</cite> FieldType, the separator between the name of the field and the language code, ex: product_name_it if lang_separator=”_”</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.match_phrase_boost">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">match_phrase_boost</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'How</span> <span class="pre">much</span> <span class="pre">we</span> <span class="pre">boost</span> <span class="pre">exact</span> <span class="pre">matches</span> <span class="pre">on</span> <span class="pre">consecutive</span> <span class="pre">words\n\nThat</span> <span class="pre">is,</span> <span class="pre">if</span> <span class="pre">you</span> <span class="pre">search</span> <span class="pre">&quot;Dark</span> <span class="pre">Chocolate&quot;,\nit</span> <span class="pre">will</span> <span class="pre">boost</span> <span class="pre">entries</span> <span class="pre">that</span> <span class="pre">have</span> <span class="pre">the</span> <span class="pre">&quot;Dark</span> <span class="pre">Chocolate&quot;</span> <span class="pre">phrase</span> <span class="pre">(in</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">field).\n\nIt</span> <span class="pre">only</span> <span class="pre">applies</span> <span class="pre">to</span> <span class="pre">free</span> <span class="pre">text</span> <span class="pre">search.\n\nThis</span> <span class="pre">only</span> <span class="pre">makes</span> <span class="pre">sense</span> <span class="pre">when</span> <span class="pre">using\n&quot;boost_phrase&quot;</span> <span class="pre">request</span> <span class="pre">parameters</span> <span class="pre">and</span> <span class="pre">&quot;best</span> <span class="pre">match&quot;</span> <span class="pre">order.\n\nNote:</span> <span class="pre">this</span> <span class="pre">field</span> <span class="pre">accept</span> <span class="pre">float</span> <span class="pre">of</span> <span class="pre">string,\nbecause</span> <span class="pre">using</span> <span class="pre">float</span> <span class="pre">might</span> <span class="pre">generate</span> <span class="pre">rounding</span> <span class="pre">problems.\nThe</span> <span class="pre">string</span> <span class="pre">must</span> <span class="pre">represent</span> <span class="pre">a</span> <span class="pre">float.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2.0</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.match_phrase_boost" title="Link to this definition">¶</a></dt>
<dd><p>How much we boost exact matches on consecutive words</p>
<p>That is, if you search “Dark Chocolate”,
it will boost entries that have the “Dark Chocolate” phrase (in the same field).</p>
<p>It only applies to free text search.</p>
<p>This only makes sense when using
“boost_phrase” request parameters and “best match” order.</p>
<p>Note: this field accept float of string,
because using float might generate rounding problems.
The string must represent a float.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.match_phrase_boost_proximity">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">match_phrase_boost_proximity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'How</span> <span class="pre">much</span> <span class="pre">we</span> <span class="pre">allow</span> <span class="pre">proximity</span> <span class="pre">for</span> <span class="pre">`match_phrase_boost`.\n\nIf</span> <span class="pre">unspecified</span> <span class="pre">we</span> <span class="pre">will</span> <span class="pre">just</span> <span class="pre">match</span> <span class="pre">word</span> <span class="pre">to</span> <span class="pre">word.\nOtherwise</span> <span class="pre">it</span> <span class="pre">will</span> <span class="pre">allow</span> <span class="pre">some</span> <span class="pre">gap</span> <span class="pre">between</span> <span class="pre">words</span> <span class="pre">matching\n\nThis</span> <span class="pre">only</span> <span class="pre">makes</span> <span class="pre">sense</span> <span class="pre">when</span> <span class="pre">using\n&quot;boost_phrase&quot;</span> <span class="pre">request</span> <span class="pre">parameters</span> <span class="pre">and</span> <span class="pre">&quot;best</span> <span class="pre">match&quot;</span> <span class="pre">order.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.match_phrase_boost_proximity" title="Link to this definition">¶</a></dt>
<dd><p>How much we allow proximity for <cite>match_phrase_boost</cite>.</p>
<p>If unspecified we will just match word to word.
Otherwise it will allow some gap between words matching</p>
<p>This only makes sense when using
“boost_phrase” request parameters and “best match” order.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.preprocessor">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">preprocessor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'The</span> <span class="pre">full</span> <span class="pre">qualified</span> <span class="pre">reference</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">preprocessor\nto</span> <span class="pre">use</span> <span class="pre">before</span> <span class="pre">data</span> <span class="pre">import.\n\nThis</span> <span class="pre">class</span> <span class="pre">must</span> <span class="pre">inherit</span> <span class="pre">`app.indexing.BaseDocumentPreprocessor`\nand</span> <span class="pre">specialize</span> <span class="pre">the</span> <span class="pre">`preprocess`</span> <span class="pre">method.\n\nThis</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">adapt</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">schema\nor</span> <span class="pre">to</span> <span class="pre">add</span> <span class="pre">search-a-licious</span> <span class="pre">specific</span> <span class="pre">fields\nfor</span> <span class="pre">example.'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">examples</span></span><span class="o"><span class="pre">=</span></span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'app.openfoodfacts.DocumentPreprocessor'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.preprocessor" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.primary_color">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">primary_color</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Used</span> <span class="pre">for</span> <span class="pre">vega</span> <span class="pre">charts.</span> <span class="pre">Use</span> <span class="pre">CSS</span> <span class="pre">color</span> <span class="pre">code.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#aaa'</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.primary_color" title="Link to this definition">¶</a></dt>
<dd><p>Used for vega charts. Use CSS color code.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.redis_stream_name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">redis_stream_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">&quot;Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Redis</span> <span class="pre">stream</span> <span class="pre">to</span> <span class="pre">read</span> <span class="pre">from</span> <span class="pre">when</span> <span class="pre">listening</span> <span class="pre">to</span> <span class="pre">document</span> <span class="pre">updates.\n\nIf</span> <span class="pre">not</span> <span class="pre">provided,</span> <span class="pre">document</span> <span class="pre">updates</span> <span class="pre">won't</span> <span class="pre">be</span> <span class="pre">listened</span> <span class="pre">to</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">index.&quot;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.redis_stream_name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the Redis stream to read from when listening to document updates.</p>
<p>If not provided, document updates won’t be listened to for this index.</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.result_processor">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">result_processor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'The</span> <span class="pre">full</span> <span class="pre">qualified</span> <span class="pre">reference</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">elasticsearch</span> <span class="pre">result</span> <span class="pre">processor\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">to</span> <span class="pre">use</span> <span class="pre">after</span> <span class="pre">search</span> <span class="pre">query</span> <span class="pre">to</span> <span class="pre">Elasticsearch.\n\n)</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">This</span> <span class="pre">class</span> <span class="pre">must</span> <span class="pre">inherit</span> <span class="pre">`app.postprocessing.BaseResultProcessor`\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">and</span> <span class="pre">specialize</span> <span class="pre">the</span> <span class="pre">`process_after`\n\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">This</span> <span class="pre">is</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">add</span> <span class="pre">custom</span> <span class="pre">fields</span> <span class="pre">computed</span> <span class="pre">from</span> <span class="pre">index</span> <span class="pre">content.\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">examples</span></span><span class="o"><span class="pre">=</span></span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'app.openfoodfacts.ResultProcessor'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.result_processor" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.scripts">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scripts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.config.ScriptConfig" title="app.config.ScriptConfig"><span class="pre">ScriptConfig</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">&quot;You</span> <span class="pre">can</span> <span class="pre">add</span> <span class="pre">scripts</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">sorting</span> <span class="pre">results.\n\nEach</span> <span class="pre">key</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">script</span> <span class="pre">name,</span> <span class="pre">with</span> <span class="pre">it's</span> <span class="pre">configuration.&quot;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.scripts" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.split_separator">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">split_separator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'separator</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">when</span> <span class="pre">splitting</span> <span class="pre">values,</span> <span class="pre">for</span> <span class="pre">fields</span> <span class="pre">that</span> <span class="pre">have</span> <span class="pre">split=True'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">','</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.split_separator" title="Link to this definition">¶</a></dt>
<dd><p>separator to use when splitting values, for fields that have split=True</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.supported_langs">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supported_langs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'A</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">all</span> <span class="pre">supported</span> <span class="pre">languages,</span> <span class="pre">it</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">build</span> <span class="pre">index</span> <span class="pre">mapping'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">examples</span></span><span class="o"><span class="pre">=</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'en'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'fr'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'it'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.supported_langs" title="Link to this definition">¶</a></dt>
<dd><p>A list of all supported languages, it is used to build index mapping</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.IndexConfig.taxonomy">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">taxonomy</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#app.config.TaxonomyConfig" title="app.config.TaxonomyConfig"><span class="pre">TaxonomyConfig</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Configuration</span> <span class="pre">of</span> <span class="pre">taxonomies,\n</span>&#160;&#160;&#160; <span class="pre">that</span> <span class="pre">is</span> <span class="pre">collections</span> <span class="pre">of</span> <span class="pre">entries</span> <span class="pre">with</span> <span class="pre">synonyms</span> <span class="pre">in</span> <span class="pre">multiple</span> <span class="pre">languages.\n\n</span>&#160;&#160;&#160; <span class="pre">See</span> <span class="pre">[Explain</span> <span class="pre">taxonomies](../explain-taxonomies)\n\n</span>&#160;&#160;&#160; <span class="pre">Field</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">linked</span> <span class="pre">to</span> <span class="pre">taxonomies.\n\n</span>&#160;&#160;&#160; <span class="pre">It</span> <span class="pre">enables</span> <span class="pre">enriching</span> <span class="pre">search</span> <span class="pre">with</span> <span class="pre">synonyms,\n</span>&#160;&#160;&#160; <span class="pre">as</span> <span class="pre">well</span> <span class="pre">as</span> <span class="pre">providing</span> <span class="pre">suggestions,\n</span>&#160;&#160;&#160; <span class="pre">or</span> <span class="pre">informative</span> <span class="pre">facets.\n\n</span>&#160;&#160;&#160; <span class="pre">Note:</span> <span class="pre">if</span> <span class="pre">you</span> <span class="pre">define</span> <span class="pre">taxonomies,</span> <span class="pre">you</span> <span class="pre">must</span> <span class="pre">import</span> <span class="pre">them</span> <span class="pre">using\n</span>&#160;&#160;&#160; <span class="pre">[import-taxonomies</span> <span class="pre">command](../ref-python/cli.html#python3-m-app-import-taxonomies)\n</span>&#160;&#160;&#160; <span class="pre">'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.taxonomy" title="Link to this definition">¶</a></dt>
<dd><p>Configuration of taxonomies,
that is collections of entries with synonyms in multiple languages.</p>
<p>See [Explain taxonomies](../explain-taxonomies)</p>
<p>Field may be linked to taxonomies.</p>
<p>It enables enriching search with synonyms,
as well as providing suggestions,
or informative facets.</p>
<p>Note: if you define taxonomies, you must import them using
[import-taxonomies command](../ref-python/cli.html#python3-m-app-import-taxonomies)</p>
<dl class="field-list simple">
<dt class="field-odd">Validated by<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="app.config.IndexConfig.field_references_must_exist_and_be_valid"><code class="xref py py-obj docutils literal notranslate"><span class="pre">field_references_must_exist_and_be_valid</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="app.config.IndexConfig.taxonomy_name_should_be_defined"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_name_should_be_defined</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method pydantic_validator">
<dt class="sig sig-object py" id="app.config.IndexConfig.add_field_name_to_each_field">
<em class="property"><span class="pre">validator</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_field_name_to_each_field</span></span><em class="autodoc_pydantic_validator_arrow property">&#160; <span class="pre">»</span>&#160; </em><a class="reference internal" href="#app.config.IndexConfig.fields" title="app.config.IndexConfig.fields"><em class="xref py py-obj"><span class="pre">fields</span></em></a><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.add_field_name_to_each_field" title="Link to this definition">¶</a></dt>
<dd><p>It’s handy to have the name of the field in the field definition</p>
</dd></dl>

<dl class="py method pydantic_validator">
<dt class="sig sig-object py" id="app.config.IndexConfig.ensure_no_fields_use_reserved_name">
<em class="property"><span class="pre">validator</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ensure_no_fields_use_reserved_name</span></span><em class="autodoc_pydantic_validator_arrow property">&#160; <span class="pre">»</span>&#160; </em><a class="reference internal" href="#app.config.IndexConfig.fields" title="app.config.IndexConfig.fields"><em class="xref py py-obj"><span class="pre">fields</span></em></a><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.ensure_no_fields_use_reserved_name" title="Link to this definition">¶</a></dt>
<dd><p>Verify that no field name clashes with a reserved name</p>
</dd></dl>

<dl class="py method pydantic_validator">
<dt class="sig sig-object py" id="app.config.IndexConfig.field_references_must_exist_and_be_valid">
<em class="property"><span class="pre">validator</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field_references_must_exist_and_be_valid</span></span><em class="autodoc_pydantic_validator_arrow property">&#160; <span class="pre">»</span>&#160; </em><em class="xref py py-obj"><span class="pre">all</span> <span class="pre">fields</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.field_references_must_exist_and_be_valid" title="Link to this definition">¶</a></dt>
<dd><p>Validator that checks that every field reference in ESIndexConfig
refers to an existing field and is valid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="app.config.IndexConfig.get_fields_with_bucket_agg">
<span class="sig-name descname"><span class="pre">get_fields_with_bucket_agg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.get_fields_with_bucket_agg" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method pydantic_validator">
<dt class="sig sig-object py" id="app.config.IndexConfig.taxonomy_name_should_be_defined">
<em class="property"><span class="pre">validator</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">taxonomy_name_should_be_defined</span></span><em class="autodoc_pydantic_validator_arrow property">&#160; <span class="pre">»</span>&#160; </em><em class="xref py py-obj"><span class="pre">all</span> <span class="pre">fields</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.taxonomy_name_should_be_defined" title="Link to this definition">¶</a></dt>
<dd><p>Validator that checks that for if <cite>taxonomy_type</cite> is defined for a
field, it refers to a taxonomy defined in <cite>taxonomy.sources</cite>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="app.config.IndexConfig.full_text_fields">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_text_fields</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.config.FieldConfig" title="app.config.FieldConfig"><span class="pre">FieldConfig</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.full_text_fields" title="Link to this definition">¶</a></dt>
<dd><p>Fully qualified name of fields that are part of default full text search</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="app.config.IndexConfig.lang_fields">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lang_fields</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.config.FieldConfig" title="app.config.FieldConfig"><span class="pre">FieldConfig</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.lang_fields" title="Link to this definition">¶</a></dt>
<dd><p>Fully qualified name of fields that are translated</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="app.config.IndexConfig.supported_langs_set">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supported_langs_set</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.supported_langs_set" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="app.config.IndexConfig.text_lang_fields">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">text_lang_fields</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#app.config.FieldConfig" title="app.config.FieldConfig"><span class="pre">FieldConfig</span></a><span class="p"><span class="pre">]</span></span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.IndexConfig.text_lang_fields" title="Link to this definition">¶</a></dt>
<dd><p>List all text_lang fields in an efficient way</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.config.LoggingLevel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">LoggingLevel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.LoggingLevel" title="Link to this definition">¶</a></dt>
<dd><p>Accepted logging levels</p>
<ul class="simple">
<li><p>NOTSET - means no los</p></li>
<li><p>DEBUG / INFO / WARNING / ERROR / CRITICAL
- match standard Python logging levels</p></li>
</ul>
</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.ScriptConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">ScriptConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ScriptConfig" title="Link to this definition">¶</a></dt>
<dd><p>Scripts can be used to sort results of a search.</p>
<p>This use ElasticSearch internal capabilities</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ScriptConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Scripts can be used to sort results of a search.\n\nThis use ElasticSearch internal capabilities&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;lang&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/ScriptType&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;expression&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The script language, as supported by Elasticsearch&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The source of the script&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Source&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Params for the scripts. We need this to retrieve and validate parameters&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Params&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;static_params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Additional params for the scripts that can&#39;t be supplied by the API (constants)&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Static Params&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;$defs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;ScriptType&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;enum&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;expression&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;painless&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ScriptType&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;source&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;params&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;static_params&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.ScriptConfig.lang" title="app.config.ScriptConfig.lang"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lang</span> <span class="pre">(app.config.ScriptType)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.ScriptConfig.params" title="app.config.ScriptConfig.params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">params</span> <span class="pre">(dict[str,</span> <span class="pre">Any]</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.ScriptConfig.source" title="app.config.ScriptConfig.source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">source</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.ScriptConfig.static_params" title="app.config.ScriptConfig.static_params"><code class="xref py py-obj docutils literal notranslate"><span class="pre">static_params</span> <span class="pre">(dict[str,</span> <span class="pre">Any]</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.ScriptConfig.lang">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lang</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#app.config.ScriptType" title="app.config.ScriptType"><span class="pre">ScriptType</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'The</span> <span class="pre">script</span> <span class="pre">language,</span> <span class="pre">as</span> <span class="pre">supported</span> <span class="pre">by</span> <span class="pre">Elasticsearch'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">ScriptType.expression</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ScriptConfig.lang" title="Link to this definition">¶</a></dt>
<dd><p>The script language, as supported by Elasticsearch</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.ScriptConfig.params">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Params</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">scripts.</span> <span class="pre">We</span> <span class="pre">need</span> <span class="pre">this</span> <span class="pre">to</span> <span class="pre">retrieve</span> <span class="pre">and</span> <span class="pre">validate</span> <span class="pre">parameters'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ScriptConfig.params" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.ScriptConfig.source">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'The</span> <span class="pre">source</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">script'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ScriptConfig.source" title="Link to this definition">¶</a></dt>
<dd><p>The source of the script</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.ScriptConfig.static_params">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">static_params</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">&quot;Additional</span> <span class="pre">params</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">scripts</span> <span class="pre">that</span> <span class="pre">can't</span> <span class="pre">be</span> <span class="pre">supplied</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">API</span> <span class="pre">(constants)&quot;</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ScriptConfig.static_params" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.config.ScriptType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">ScriptType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">names=&lt;not</span> <span class="pre">given&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qualname=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundary=None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.ScriptType" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class pydantic_settings">
<dt class="sig sig-object py" id="app.config.Settings">
<em class="property"><span class="pre">pydantic</span> <span class="pre">settings</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">Settings</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings" title="Link to this definition">¶</a></dt>
<dd><p>Settings for Search-a-licious</p>
<p>The most important settings is <cite>config_path</cite>.</p>
<p>Those settings can be overridden through environment
by using the name in capital letters.
If you use docker compose, a good way to do that
is to modify those values in your .env file.</p>
<dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.Settings.config_path" title="app.config.Settings.config_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">config_path</span> <span class="pre">(pathlib.Path</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.elasticsearch_url" title="app.config.Settings.elasticsearch_url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">elasticsearch_url</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.log_level" title="app.config.Settings.log_level"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log_level</span> <span class="pre">(app.config.LoggingLevel)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.redis_host" title="app.config.Settings.redis_host"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redis_host</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.redis_port" title="app.config.Settings.redis_port"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redis_port</span> <span class="pre">(int)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.redis_reader_timeout" title="app.config.Settings.redis_reader_timeout"><code class="xref py py-obj docutils literal notranslate"><span class="pre">redis_reader_timeout</span> <span class="pre">(int)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.sentry_dns" title="app.config.Settings.sentry_dns"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sentry_dns</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.synonyms_path" title="app.config.Settings.synonyms_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">synonyms_path</span> <span class="pre">(pathlib.Path)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.taxonomy_cache_dir" title="app.config.Settings.taxonomy_cache_dir"><code class="xref py py-obj docutils literal notranslate"><span class="pre">taxonomy_cache_dir</span> <span class="pre">(pathlib.Path)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.Settings.user_agent" title="app.config.Settings.user_agent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">user_agent</span> <span class="pre">(str)</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.config_path">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Path</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">search-a-licious</span> <span class="pre">yaml</span> <span class="pre">configuration</span> <span class="pre">file.\n\nSee</span> <span class="pre">[Explain</span> <span class="pre">configuration</span> <span class="pre">file](../explain-configuration/)</span> <span class="pre">for</span> <span class="pre">more</span> <span class="pre">information'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.config_path" title="Link to this definition">¶</a></dt>
<dd><p>Path to the search-a-licious yaml configuration file.</p>
<p>See [Explain configuration file](../explain-configuration/) for more information</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.elasticsearch_url">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">elasticsearch_url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'URL</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">ElasticSearch</span> <span class="pre">instance\n\nBare</span> <span class="pre">in</span> <span class="pre">mind</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">from</span> <span class="pre">inside</span> <span class="pre">the</span> <span class="pre">container.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://localhost:9200'</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.elasticsearch_url" title="Link to this definition">¶</a></dt>
<dd><p>URL to the ElasticSearch instance</p>
<p>Bare in mind this is from inside the container.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.log_level">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log_level</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#app.config.LoggingLevel" title="app.config.LoggingLevel"><span class="pre">LoggingLevel</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Log</span> <span class="pre">level.</span> <span class="pre">Accepted</span> <span class="pre">logging</span> <span class="pre">levels\n\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">NOTSET</span> <span class="pre">-</span> <span class="pre">means</span> <span class="pre">no</span> <span class="pre">los\n</span>&#160;&#160;&#160; <span class="pre">*</span> <span class="pre">DEBUG</span> <span class="pre">/</span> <span class="pre">INFO</span> <span class="pre">/</span> <span class="pre">WARNING</span> <span class="pre">/</span> <span class="pre">ERROR</span> <span class="pre">/</span> <span class="pre">CRITICAL\n</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">-</span> <span class="pre">match</span> <span class="pre">standard</span> <span class="pre">Python</span> <span class="pre">logging</span> <span class="pre">levels\n</span>&#160;&#160;&#160; <span class="pre">'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">LoggingLevel.INFO</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.log_level" title="Link to this definition">¶</a></dt>
<dd><p>Log level. Accepted logging levels</p>
<ul class="simple">
<li><p>NOTSET - means no los</p></li>
<li><p>DEBUG / INFO / WARNING / ERROR / CRITICAL
- match standard Python logging levels</p></li>
</ul>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.redis_host">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">redis_host</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Host</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Redis</span> <span class="pre">instance</span> <span class="pre">containing</span> <span class="pre">event</span> <span class="pre">stream\n\nBare</span> <span class="pre">in</span> <span class="pre">mind</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">from</span> <span class="pre">inside</span> <span class="pre">the</span> <span class="pre">container.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'localhost'</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.redis_host" title="Link to this definition">¶</a></dt>
<dd><p>Host for the Redis instance containing event stream</p>
<p>Bare in mind this is from inside the container.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.redis_port">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">redis_port</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Port</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">redis</span> <span class="pre">host</span> <span class="pre">instance</span> <span class="pre">containing</span> <span class="pre">event</span> <span class="pre">stream'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">6379</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.redis_port" title="Link to this definition">¶</a></dt>
<dd><p>Port for the redis host instance containing event stream</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.redis_reader_timeout">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">redis_reader_timeout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'timeout</span> <span class="pre">in</span> <span class="pre">seconds</span> <span class="pre">to</span> <span class="pre">read</span> <span class="pre">redis</span> <span class="pre">event</span> <span class="pre">stream'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.redis_reader_timeout" title="Link to this definition">¶</a></dt>
<dd><p>timeout in seconds to read redis event stream</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.sentry_dns">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sentry_dns</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Sentry</span> <span class="pre">DNS</span> <span class="pre">to</span> <span class="pre">report</span> <span class="pre">incident,</span> <span class="pre">if</span> <span class="pre">None</span> <span class="pre">no</span> <span class="pre">incident</span> <span class="pre">is</span> <span class="pre">reported'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.sentry_dns" title="Link to this definition">¶</a></dt>
<dd><p>Sentry DNS to report incident, if None no incident is reported</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.synonyms_path">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">synonyms_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Path</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">directory</span> <span class="pre">that</span> <span class="pre">will</span> <span class="pre">contain</span> <span class="pre">synonyms</span> <span class="pre">for</span> <span class="pre">ElasticSearch</span> <span class="pre">instances'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('/opt/search/synonyms')</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.synonyms_path" title="Link to this definition">¶</a></dt>
<dd><p>Path of the directory that will contain synonyms for ElasticSearch instances</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.taxonomy_cache_dir">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">taxonomy_cache_dir</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">Path</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Directory</span> <span class="pre">where</span> <span class="pre">to</span> <span class="pre">store</span> <span class="pre">taxonomies</span> <span class="pre">before</span> <span class="pre">ingestion</span> <span class="pre">to</span> <span class="pre">ElasticSearch'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">PosixPath('data/taxonomies')</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.taxonomy_cache_dir" title="Link to this definition">¶</a></dt>
<dd><p>Directory where to store taxonomies before ingestion to ElasticSearch</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.Settings.user_agent">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_agent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'User-Agent</span> <span class="pre">used</span> <span class="pre">when</span> <span class="pre">fetching</span> <span class="pre">resources</span> <span class="pre">(taxonomies)</span> <span class="pre">or</span> <span class="pre">documents'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'search-a-licious'</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.Settings.user_agent" title="Link to this definition">¶</a></dt>
<dd><p>User-Agent used when fetching resources (taxonomies) or documents</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="app.config.SettingsGenerateJsonSchema">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">SettingsGenerateJsonSchema</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">by_alias</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_template</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'#/$defs/{model}'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.SettingsGenerateJsonSchema" title="Link to this definition">¶</a></dt>
<dd><p>Config to add fields to generated JSON schema for Settings.</p>
<dl class="py method">
<dt class="sig sig-object py" id="app.config.SettingsGenerateJsonSchema.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'validation'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.SettingsGenerateJsonSchema.generate" title="Link to this definition">¶</a></dt>
<dd><p>Generates a JSON schema for a specified schema in a specified mode.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>schema: A Pydantic model.
mode: The mode in which to generate the schema. Defaults to ‘validation’.</p>
</dd>
<dt>Returns:</dt><dd><p>A JSON schema representing the specified schema.</p>
</dd>
<dt>Raises:</dt><dd><p>PydanticUserError: If the JSON schema generator has already been used to generate a JSON schema.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.TaxonomyConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">TaxonomyConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomyConfig" title="Link to this definition">¶</a></dt>
<dd><p>Configuration of taxonomies,
that is collections of entries with synonyms in multiple languages.</p>
<p>See [Explain taxonomies](../explain-taxonomies)</p>
<p>Field may be linked to taxonomies.</p>
<p>It enables enriching search with synonyms,
as well as providing suggestions,
or informative facets.</p>
<p>Note: if you define taxonomies, you must import them using
[import-taxonomies command](../ref-python/cli.html#python3-m-app-import-taxonomies)</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomyConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration of taxonomies,\nthat is collections of entries with synonyms in multiple languages.\n\nSee [Explain taxonomies](../explain-taxonomies)\n\nField may be linked to taxonomies.\n\nIt enables enriching search with synonyms,\nas well as providing suggestions,\nor informative facets.\n\nNote: if you define taxonomies, you must import them using\n[import-taxonomies command](../ref-python/cli.html#python3-m-app-import-taxonomies)&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;sources&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configurations of taxonomies that this project will use.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;items&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomySourceConfig&quot;</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sources&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;array&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;allOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;$ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;#/$defs/TaxonomyIndexConfig&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration of\n    the ElasticSearch index storing the taxonomies.\n\n    All taxonomies are stored within the same index.\n\n    It enables functions like auto-completion, or field suggestions\n    as well as enrichment of requests with synonyms.\n    &quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;preprocessor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The full qualified reference to the preprocessor\nto use before taxonomy entry import.\n\nThis class must inherit `app.indexing.BaseTaxonomyPreprocessor`\nand specialize the `preprocess` method.\n\nThis is used to adapt the taxonomy schema\nor to add specific fields for example.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;examples&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;app.openfoodfacts.TaxonomyPreprocessor&quot;</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;null&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Preprocessor&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;$defs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;TaxonomyIndexConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration of\nthe ElasticSearch index storing the taxonomies.\n\nAll taxonomies are stored within the same index.\n\nIt enables functions like auto-completion, or field suggestions\nas well as enrichment of requests with synonyms.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomyIndexConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;TaxonomySourceConfig&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration on how to fetch a particular taxonomy.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the taxonomy\n\nThis is the name you will use in the configuration (and the API)\nto reference this taxonomy&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">},</span>
<span class="w">                  </span><span class="p">{</span>
<span class="w">                     </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2083</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">                     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">                  </span><span class="p">}</span>
<span class="w">               </span><span class="p">],</span>
<span class="w">               </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;URL of the taxonomy.\n\nThe target file must be in JSON format\nand follows Open Food Facts JSON taxonomy format.\n\nThis is a dict where each key correspond to a taxonomy entry id,\nvalues are dict with following properties:\n\n* name: contains a dict giving the name (string) for this entry\n  in various languages (keys are language codes)\n* synonyms: contains a dict giving a list of synonyms by language code\n* parents: contains a list of direct parent ids (taxonomy is a directed acyclic graph)\n\nOther keys correspond to properties associated to this entry (eg. wikidata id).&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Url&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;url&quot;</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomySourceConfig&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;sources&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;index&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.TaxonomyConfig.index" title="app.config.TaxonomyConfig.index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">index</span> <span class="pre">(app.config.TaxonomyIndexConfig)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.TaxonomyConfig.preprocessor" title="app.config.TaxonomyConfig.preprocessor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">preprocessor</span> <span class="pre">(str</span> <span class="pre">|</span> <span class="pre">None)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.TaxonomyConfig.sources" title="app.config.TaxonomyConfig.sources"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sources</span> <span class="pre">(list[app.config.TaxonomySourceConfig])</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.TaxonomyConfig.index">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#app.config.TaxonomyIndexConfig" title="app.config.TaxonomyIndexConfig"><span class="pre">TaxonomyIndexConfig</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">configuration</span> <span class="pre">of\n</span>&#160;&#160;&#160; <span class="pre">the</span> <span class="pre">ElasticSearch</span> <span class="pre">index</span> <span class="pre">storing</span> <span class="pre">the</span> <span class="pre">taxonomies.\n\n</span>&#160;&#160;&#160; <span class="pre">All</span> <span class="pre">taxonomies</span> <span class="pre">are</span> <span class="pre">stored</span> <span class="pre">within</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">index.\n\n</span>&#160;&#160;&#160; <span class="pre">It</span> <span class="pre">enables</span> <span class="pre">functions</span> <span class="pre">like</span> <span class="pre">auto-completion,</span> <span class="pre">or</span> <span class="pre">field</span> <span class="pre">suggestions\n</span>&#160;&#160;&#160; <span class="pre">as</span> <span class="pre">well</span> <span class="pre">as</span> <span class="pre">enrichment</span> <span class="pre">of</span> <span class="pre">requests</span> <span class="pre">with</span> <span class="pre">synonyms.\n</span>&#160;&#160;&#160; <span class="pre">'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomyConfig.index" title="Link to this definition">¶</a></dt>
<dd><p>This is the configuration of
the ElasticSearch index storing the taxonomies.</p>
<p>All taxonomies are stored within the same index.</p>
<p>It enables functions like auto-completion, or field suggestions
as well as enrichment of requests with synonyms.</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.TaxonomyConfig.preprocessor">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">preprocessor</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'The</span> <span class="pre">full</span> <span class="pre">qualified</span> <span class="pre">reference</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">preprocessor\nto</span> <span class="pre">use</span> <span class="pre">before</span> <span class="pre">taxonomy</span> <span class="pre">entry</span> <span class="pre">import.\n\nThis</span> <span class="pre">class</span> <span class="pre">must</span> <span class="pre">inherit</span> <span class="pre">`app.indexing.BaseTaxonomyPreprocessor`\nand</span> <span class="pre">specialize</span> <span class="pre">the</span> <span class="pre">`preprocess`</span> <span class="pre">method.\n\nThis</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">adapt</span> <span class="pre">the</span> <span class="pre">taxonomy</span> <span class="pre">schema\nor</span> <span class="pre">to</span> <span class="pre">add</span> <span class="pre">specific</span> <span class="pre">fields</span> <span class="pre">for</span> <span class="pre">example.'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">examples</span></span><span class="o"><span class="pre">=</span></span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'app.openfoodfacts.TaxonomyPreprocessor'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomyConfig.preprocessor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.TaxonomyConfig.sources">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sources</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#app.config.TaxonomySourceConfig" title="app.config.TaxonomySourceConfig"><span class="pre">TaxonomySourceConfig</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Configurations</span> <span class="pre">of</span> <span class="pre">taxonomies</span> <span class="pre">that</span> <span class="pre">this</span> <span class="pre">project</span> <span class="pre">will</span> <span class="pre">use.'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomyConfig.sources" title="Link to this definition">¶</a></dt>
<dd><p>Configurations of taxonomies that this project will use.</p>
</dd></dl>

</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.TaxonomyIndexConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">TaxonomyIndexConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomyIndexConfig" title="Link to this definition">¶</a></dt>
<dd><p>This is the configuration of
the ElasticSearch index storing the taxonomies.</p>
<p>All taxonomies are stored within the same index.</p>
<p>It enables functions like auto-completion, or field suggestions
as well as enrichment of requests with synonyms.</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomyIndexConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is the configuration of\nthe ElasticSearch index storing the taxonomies.\n\nAll taxonomies are stored within the same index.\n\nIt enables functions like auto-completion, or field suggestions\nas well as enrichment of requests with synonyms.&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the index alias to use.\n\nSearch-a-licious will create an index using this name and an import date,\nbut alias will always point to the latest index.\n\nThe alias must not already exists in your ElasticSearch instance.&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;number_of_shards&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of shards to use for the index.\n\nShards are useful to distribute the load on your cluster.\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Shards&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;number_of_replicas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;default&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number of replicas to use for the index.\n\nMore replica means more resiliency but also more disk space and memory.\n\n(see [index settings](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#_static_index_settings))&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Number Of Replicas&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;name&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</dd></dl>

<dl class="py class pydantic_model">
<dt class="sig sig-object py" id="app.config.TaxonomySourceConfig">
<em class="property"><span class="pre">pydantic</span> <span class="pre">model</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">TaxonomySourceConfig</span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomySourceConfig" title="Link to this definition">¶</a></dt>
<dd><p>Configuration on how to fetch a particular taxonomy.</p>
<p><details  class="autodoc_pydantic_collapsable_json">
<summary>Show JSON schema</summary><div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;TaxonomySourceConfig&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Configuration on how to fetch a particular taxonomy.&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;object&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;properties&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name of the taxonomy\n\nThis is the name you will use in the configuration (and the API)\nto reference this taxonomy&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Name&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;anyOf&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;uri&quot;</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;maxLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2083</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;minLength&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">               </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">],</span>
<span class="w">         </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;URL of the taxonomy.\n\nThe target file must be in JSON format\nand follows Open Food Facts JSON taxonomy format.\n\nThis is a dict where each key correspond to a taxonomy entry id,\nvalues are dict with following properties:\n\n* name: contains a dict giving the name (string) for this entry\n  in various languages (keys are language codes)\n* synonyms: contains a dict giving a list of synonyms by language code\n* parents: contains a list of direct parent ids (taxonomy is a directed acyclic graph)\n\nOther keys correspond to properties associated to this entry (eg. wikidata id).&quot;</span><span class="p">,</span>
<span class="w">         </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Url&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">},</span>
<span class="w">   </span><span class="nt">&quot;required&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;name&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;url&quot;</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</details></p><dl class="field-list simple">
<dt class="field-odd">Fields<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#app.config.TaxonomySourceConfig.name" title="app.config.TaxonomySourceConfig.name"><code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span> <span class="pre">(str)</span></code></a></p></li>
<li><p><a class="reference internal" href="#app.config.TaxonomySourceConfig.url" title="app.config.TaxonomySourceConfig.url"><code class="xref py py-obj docutils literal notranslate"><span class="pre">url</span> <span class="pre">(pydantic_core._pydantic_core.Url)</span></code></a></p></li>
</ul>
</dd>
</dl>
<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.TaxonomySourceConfig.name">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">taxonomy\n\nThis</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">name</span> <span class="pre">you</span> <span class="pre">will</span> <span class="pre">use</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">configuration</span> <span class="pre">(and</span> <span class="pre">the</span> <span class="pre">API)\nto</span> <span class="pre">reference</span> <span class="pre">this</span> <span class="pre">taxonomy'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomySourceConfig.name" title="Link to this definition">¶</a></dt>
<dd><p>Name of the taxonomy</p>
<p>This is the name you will use in the configuration (and the API)
to reference this taxonomy</p>
</dd></dl>

<dl class="py attribute pydantic_field">
<dt class="sig sig-object py" id="app.config.TaxonomySourceConfig.url">
<em class="property"><span class="pre">field</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">Url</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UrlConstraints</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">max_length</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">allowed_schemes</span></span><span class="o"><span class="pre">=</span></span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'file'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">host_required</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">default_host</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">default_port</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">default_path</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Annotated</span><span class="p"><span class="pre">[</span></span><span class="pre">Url</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">UrlConstraints</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">max_length</span></span><span class="o"><span class="pre">=</span></span><span class="m"><span class="pre">2083</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">allowed_schemes</span></span><span class="o"><span class="pre">=</span></span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'http'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'https'</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">host_required</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">default_host</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">default_port</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">default_path</span></span><span class="o"><span class="pre">=</span></span><span class="pre">None</span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">FieldInfo</span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">annotation</span></span><span class="o"><span class="pre">=</span></span><span class="pre">NoneType</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="k"><span class="pre">True</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="s"><span class="pre">'URL</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">taxonomy.\n\nThe</span> <span class="pre">target</span> <span class="pre">file</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">in</span> <span class="pre">JSON</span> <span class="pre">format\nand</span> <span class="pre">follows</span> <span class="pre">Open</span> <span class="pre">Food</span> <span class="pre">Facts</span> <span class="pre">JSON</span> <span class="pre">taxonomy</span> <span class="pre">format.\n\nThis</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">dict</span> <span class="pre">where</span> <span class="pre">each</span> <span class="pre">key</span> <span class="pre">correspond</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">taxonomy</span> <span class="pre">entry</span> <span class="pre">id,\nvalues</span> <span class="pre">are</span> <span class="pre">dict</span> <span class="pre">with</span> <span class="pre">following</span> <span class="pre">properties:\n\n*</span> <span class="pre">name:</span> <span class="pre">contains</span> <span class="pre">a</span> <span class="pre">dict</span> <span class="pre">giving</span> <span class="pre">the</span> <span class="pre">name</span> <span class="pre">(string)</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">entry\n</span>&#160; <span class="pre">in</span> <span class="pre">various</span> <span class="pre">languages</span> <span class="pre">(keys</span> <span class="pre">are</span> <span class="pre">language</span> <span class="pre">codes)\n*</span> <span class="pre">synonyms:</span> <span class="pre">contains</span> <span class="pre">a</span> <span class="pre">dict</span> <span class="pre">giving</span> <span class="pre">a</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">synonyms</span> <span class="pre">by</span> <span class="pre">language</span> <span class="pre">code\n*</span> <span class="pre">parents:</span> <span class="pre">contains</span> <span class="pre">a</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">direct</span> <span class="pre">parent</span> <span class="pre">ids</span> <span class="pre">(taxonomy</span> <span class="pre">is</span> <span class="pre">a</span> <span class="pre">directed</span> <span class="pre">acyclic</span> <span class="pre">graph)\n\nOther</span> <span class="pre">keys</span> <span class="pre">correspond</span> <span class="pre">to</span> <span class="pre">properties</span> <span class="pre">associated</span> <span class="pre">to</span> <span class="pre">this</span> <span class="pre">entry</span> <span class="pre">(eg.</span> <span class="pre">wikidata</span> <span class="pre">id).'</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"> <span class="pre">[Required]</span></em><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.TaxonomySourceConfig.url" title="Link to this definition">¶</a></dt>
<dd><p>URL of the taxonomy.</p>
<p>The target file must be in JSON format
and follows Open Food Facts JSON taxonomy format.</p>
<p>This is a dict where each key correspond to a taxonomy entry id,
values are dict with following properties:</p>
<ul class="simple">
<li><p>name: contains a dict giving the name (string) for this entry
in various languages (keys are language codes)</p></li>
<li><p>synonyms: contains a dict giving a list of synonyms by language code</p></li>
<li><p>parents: contains a list of direct parent ids (taxonomy is a directed acyclic graph)</p></li>
</ul>
<p>Other keys correspond to properties associated to this entry (eg. wikidata id).</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="app.config.get_config">
<span class="sig-prename descclassname"><span class="pre">app.config.</span></span><span class="sig-name descname"><span class="pre">get_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#app.config.Config" title="app.config.Config"><span class="pre">Config</span></a></span></span><a class="reference external" href="https://github.com/openfoodfacts/search-a-licious/tree/main/app/config.py"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#app.config.get_config" title="Link to this definition">¶</a></dt>
<dd><p>Return the object containing global configuration</p>
<p>It raises if configuration was not yet set</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Search-a-licious</a></h1>






<p>
<iframe src="https://ghbtns.com/github-btn.html?user=openfoodfacts&repo=search-a-licious&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-app.config">Config Module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="searching.html">Search Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">Misc</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="/search-a-licious">🢀 Back to main doc</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="api.html" title="previous chapter">API</a></li>
      <li>Next: <a href="cli.html" title="next chapter">Command Line Interface</a></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Open Food Facts.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.4.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/config.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/openfoodfacts/search-a-licious" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>